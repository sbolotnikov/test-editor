(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(26),i=n.n(s),r=(n(64),n(10)),o=n(12),l=(n(65),n(66),n(11)),u=n.n(l),d=n(15),j=n(4),b=n(112),h=n(117),m=n(115),O=n(116),f=n(113),x=n(50),g=(n(68),n(109),n(110),x.a.initializeApp({apiKey:"AIzaSyCYNLxM_j3V28VGRVT2apkfYYMMf2SrsJ4",authDomain:"test-editor-7f0d0.firebaseapp.com",databaseURL:"http://test-editor-7f0d0.firebaseio.com",projectId:"test-editor-7f0d0",storageBucket:"test-editor-7f0d0.appspot.com",messagingSenderId:"138558234620",appId:"1:138558234620:web:828919660aa829381a5c79"})),p=g.auth(),v=g,y=n(1),w=a.a.createContext();function N(){return Object(c.useContext)(w)}function k(e){var t=e.children,n=Object(c.useState)(),a=Object(j.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(!0),o=Object(j.a)(r,2),l=o[0],u=o[1];Object(c.useEffect)((function(){return p.onAuthStateChanged((function(e){i(e),u(!1)}))}),[]);var d={currentUser:s,login:function(e,t){return p.signInWithEmailAndPassword(e,t)},signup:function(e,t){return p.createUserWithEmailAndPassword(e,t)},logout:function(){return p.signOut()},resetPassword:function(e){return p.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)},updateUser:function(e,t){return console.log("setting profile "+e+t),console.log(s),s.updateProfile({displayName:e,photoURL:t}).then((function(){})).catch((function(e){console.log("error on Profile update")}))}};return Object(y.jsx)(w.Provider,{value:d,children:!l&&t})}function C(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=N().signup,s=Object(c.useState)(""),i=Object(j.a)(s,2),l=i[0],x=i[1],g=Object(c.useState)(!1),p=Object(j.a)(g,2),v=p[0],w=p[1],k=Object(c.useState)(!1),C=Object(j.a)(k,2),S=C[0],q=C[1];if(!0===S)return Object(y.jsx)(o.a,{to:"/"});function I(){return(I=Object(d.a)(u.a.mark((function c(s){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s.preventDefault(),t.current.value===n.current.value){c.next=3;break}return c.abrupt("return",x("Passwords do not match"));case 3:try{x(""),w(!0),a(e.current.value,t.current.value),q(!0)}catch(i){x("Failed to create an account")}w(!1);case 5:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(y.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(y.jsx)(h.a,{children:Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),l&&Object(y.jsx)(m.a,{variant:"danger",children:l}),Object(y.jsxs)(O.a,{onSubmit:function(e){return I.apply(this,arguments)},children:[Object(y.jsxs)(O.a.Group,{id:"email",children:[Object(y.jsx)(O.a.Label,{children:"Email"}),Object(y.jsx)(O.a.Control,{type:"email",ref:e,required:!0})]}),Object(y.jsxs)(O.a.Group,{id:"password",children:[Object(y.jsx)(O.a.Label,{children:"Password"}),Object(y.jsx)(O.a.Control,{type:"password",ref:t,required:!0})]}),Object(y.jsxs)(O.a.Group,{id:"password-confirm",children:[Object(y.jsx)(O.a.Label,{children:"Password Confirmation"}),Object(y.jsx)(O.a.Control,{type:"password",ref:n,required:!0})]}),Object(y.jsx)(f.a,{disabled:v,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(y.jsx)(r.b,{to:"/login",children:"Log In"})]})]})})}function S(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],s=N(),i=s.currentUser,l=s.logout,O=Object(c.useState)(!1),x=Object(j.a)(O,2),g=x[0],p=x[1];if(!0===g)return Object(y.jsx)(o.a,{to:"/login"});function v(){return(v=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(""),e.prev=1,e.next=4,l();case 4:p(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),a("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(y.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh",width:"100%"},children:Object(y.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(y.jsx)(h.a,{children:Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Profile"}),n&&Object(y.jsx)(m.a,{variant:"danger",children:n}),Object(y.jsxs)("h6",{className:"text-center mb-4",children:[" ",Object(y.jsx)("strong",{children:"Display Name:"})," ",i.displayName]}),Object(y.jsxs)("h6",{className:"text-center mb-4",children:["  ",Object(y.jsx)("strong",{children:"Email:"})," ",i.email," "]}),Object(y.jsx)("img",{style:{width:"70%",marginLeft:"15%",marginRight:"15%"},src:i.photoURL>""?i.photoURL:"/test-editor./images/defaultIcon.png",alt:"profile pic"}),Object(y.jsx)(r.b,{to:"/update-profile",className:"btn btn-primary w-100 mt-3",children:"Update Profile"})]})}),Object(y.jsx)("div",{className:"w-100 text-center mt-2",children:Object(y.jsx)(f.a,{variant:"link",onClick:function(){return v.apply(this,arguments)},children:"Log Out"})})]})})}function q(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=N().login,a=Object(c.useState)(""),s=Object(j.a)(a,2),i=s[0],l=s[1],x=Object(c.useState)(!1),g=Object(j.a)(x,2),p=g[0],v=g[1],w=Object(c.useState)(!1),k=Object(j.a)(w,2),C=k[0],S=k[1];if(!0===C)return Object(y.jsx)(o.a,{to:"/"});function q(){return(q=Object(d.a)(u.a.mark((function c(a){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a.preventDefault(),c.prev=1,l(""),v(!0),c.next=6,n(e.current.value,t.current.value);case 6:S(!0),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(1),l("Failed to log in");case 12:v(!1);case 13:case"end":return c.stop()}}),c,null,[[1,9]])})))).apply(this,arguments)}return Object(y.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(y.jsx)(h.a,{children:Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Log In"}),i&&Object(y.jsx)(m.a,{variant:"danger",children:i}),Object(y.jsxs)(O.a,{onSubmit:function(e){return q.apply(this,arguments)},children:[Object(y.jsxs)(O.a.Group,{id:"email",children:[Object(y.jsx)(O.a.Label,{children:"Email"}),Object(y.jsx)(O.a.Control,{type:"email",ref:e,required:!0})]}),Object(y.jsxs)(O.a.Group,{id:"password",children:[Object(y.jsx)(O.a.Label,{children:"Password"}),Object(y.jsx)(O.a.Control,{type:"password",ref:t,required:!0})]}),Object(y.jsx)(f.a,{disabled:p,className:"w-100",type:"submit",children:"Log In"})]}),Object(y.jsx)("div",{className:"w-100 text-center mt-3",children:Object(y.jsx)(r.b,{to:"/forgot-password",children:"Forgot Password?"})})]})}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(y.jsx)(r.b,{to:"/signup",children:"Sign Up"})]})]})})}var I=n(21),L=n(58);function P(e){var t=e.component,n=Object(L.a)(e,["component"]),c=N().currentUser;return Object(y.jsx)(o.b,Object(I.a)(Object(I.a)({},n),{},{render:function(e){return c?Object(y.jsx)(t,Object(I.a)({},e)):Object(y.jsx)(o.a,{to:"/login"})}}))}function E(){var e=Object(c.useRef)(),t=N().resetPassword,n=Object(c.useState)(""),a=Object(j.a)(n,2),s=a[0],i=a[1],o=Object(c.useState)(""),l=Object(j.a)(o,2),x=l[0],g=l[1],p=Object(c.useState)(!1),v=Object(j.a)(p,2),w=v[0],k=v[1];function C(){return(C=Object(d.a)(u.a.mark((function n(c){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,g(""),i(""),k(!0),n.next=7,t(e.current.value);case 7:g("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),i("Failed to reset password");case 13:k(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(y.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(y.jsx)(h.a,{children:Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),s&&Object(y.jsx)(m.a,{variant:"danger",children:s}),x&&Object(y.jsx)(m.a,{variant:"success",children:x}),Object(y.jsxs)(O.a,{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(y.jsxs)(O.a.Group,{id:"email",children:[Object(y.jsx)(O.a.Label,{children:"Email"}),Object(y.jsx)(O.a.Control,{type:"email",ref:e,required:!0})]}),Object(y.jsx)(f.a,{disabled:w,className:"w-100",type:"submit",children:"Reset Password"})]}),Object(y.jsx)("div",{className:"w-100 text-center mt-3",children:Object(y.jsx)(r.b,{to:"/login",children:"Login"})})]})}),Object(y.jsxs)("div",{className:"w-100 text-center mt-2",children:["Need an account? ",Object(y.jsx)(r.b,{to:"/signup",children:"Sign Up"})]})]})})}var R=n(56),U=n.n(R);var A=function(e){var t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],s=n[1];return Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{type:"file",onChange:function(e){return s(e.target.files[0])}}),Object(y.jsx)("div",{className:"cloudinary-button",onClick:function(t){!function(t){var n=new FormData;n.append("file",a),n.append("upload_preset","quizzes"),U.a.post("https://api.cloudinary.com/v1_1/sergeyb/image/upload",n).then((function(n){s(""),console.log(n.data.url),console.log(t.target.parentElement.previousSibling.value),t.target.parentElement.previousSibling.value="",e.getImgUrl(n.data.url)})).catch((function(e){console.log("Fail to upload image")}))}(t)},children:Object(y.jsx)("h5",{style:{textAlign:"center"},children:"Upload Image"})})]})};function F(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(c.useRef)(),s=Object(c.useRef)(),i=N(),l=i.currentUser,u=i.updatePassword,d=i.updateEmail,x=i.updateUser,g=Object(c.useState)(""),p=Object(j.a)(g,2),v=p[0],w=p[1],k=Object(c.useState)(!1),C=Object(j.a)(k,2),S=C[0],q=C[1],I=Object(c.useState)(!1),L=Object(j.a)(I,2),P=L[0],E=L[1];return Object(c.useEffect)((function(){console.log("Value: sergeyb"),console.log("Value: quizzes")}),[]),!0===P?Object(y.jsx)(o.a,{to:"/"}):Object(y.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsxs)("div",{className:"w-100",style:{maxWidth:"400px"},children:[Object(y.jsx)(h.a,{children:Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)("h2",{className:"text-center mb-4",children:"Update Profile"}),v&&Object(y.jsx)(m.a,{variant:"danger",children:v}),Object(y.jsxs)(O.a,{onSubmit:function(c){if(c.preventDefault(),t.current.value!==s.current.value)return w("Passwords do not match");var i=[];q(!0),w(""),e.current.value!==l.email&&i.push(d(e.current.value)),t.current.value&&i.push(u(t.current.value)),n.current.value===l.displayName&&a.current.value===l.photoURL||i.push(x(n.current.value,a.current.value)),Promise.all(i).then((function(){E(!0)})).catch((function(){w("Failed to update account")})).finally((function(){q(!1)}))},children:[Object(y.jsxs)(O.a.Group,{id:"userName",children:[Object(y.jsx)(O.a.Label,{children:"User's Name"}),Object(y.jsx)(O.a.Control,{type:"text",ref:n,defaultValue:l.displayName,placeholder:"Leave blank to keep the same"})]}),Object(y.jsxs)(O.a.Group,{id:"userURL",children:[Object(y.jsx)(O.a.Label,{children:"User's picture link"}),Object(y.jsx)(O.a.Control,{type:"text",ref:a,defaultValue:l.photoURL,placeholder:"Leave blank to keep the same"}),Object(y.jsx)(A,{style:{width:"200px",objectFit:"cover",margin:"10px"},getImgUrl:function(e){document.querySelector("#userURL").childNodes[1].value=e}})]}),Object(y.jsxs)(O.a.Group,{id:"email",children:[Object(y.jsx)(O.a.Label,{children:"Email"}),Object(y.jsx)(O.a.Control,{type:"email",ref:e,required:!0,defaultValue:l.email})]}),Object(y.jsxs)(O.a.Group,{id:"password",children:[Object(y.jsx)(O.a.Label,{children:"Password"}),Object(y.jsx)(O.a.Control,{type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(y.jsxs)(O.a.Group,{id:"password-confirm",children:[Object(y.jsx)(O.a.Label,{children:"Password Confirmation"}),Object(y.jsx)(O.a.Control,{type:"password",ref:s,placeholder:"Leave blank to keep the same"})]}),Object(y.jsx)(f.a,{disabled:S,className:"w-100",type:"submit",children:"Update"})]})]})}),Object(y.jsx)("div",{className:"w-100 text-center mt-2",children:Object(y.jsx)(r.b,{to:"/",children:"Cancel"})})]})})}n(93);var D=function(e){var t,n=Object(c.useState)(o(e.hours,e.minutes,e.seconds)),a=Object(j.a)(n,2),s=a[0],i=a[1],r=3600*e.hours+60*e.minutes+e.seconds;function o(e,t,n){return"".concat(e<10?"0"+e:e,":").concat(t<10?"0"+t:t,":").concat(n<10?"0"+n:n)}function l(t){var n=document.querySelector("#questionPage");Number.isInteger(t)?(1===t&&(""===n.value?n.value=1:parseInt(n.value)<e.qNumber?n.value=parseInt(n.value)+1:n.value=1),-1===t&&(""===n.value?n.value=e.qNumber:parseInt(n.value)>1?n.value-=1:n.value=e.qNumber)):"0"===t?(document.querySelectorAll(".testNav").forEach((function(e){e.classList.remove("invisible")})),document.querySelector("#startNav").classList.add("invisible"),n.value=1):n.value=t;"0"===t?e.onChange(0):e.onChange(parseInt(n.value))}return Object(y.jsx)(c.Fragment,{children:Object(y.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:"center"},children:[Object(y.jsx)(f.a,{id:"startNav",style:{position:"absolute",top:"50vh",zIndex:"200",transformOrigin:"center",margin:"10px 0 0 0"},onClick:function(n){var c=e.seconds,a=e.minutes,s=e.hours;l("0"),n.preventDefault(),0===c&&0===a&&0===s||(t=setInterval((function(){r--,0===c?c=59:c--,59===c&&(0===a?(a=59,s--):a--),i(o(s,a,c)),0===r&&(clearInterval(t),document.querySelector(".testNav").classList.add("invisible"),e.onExit("00:00:00"))}),1e3))},children:"Start"}),Object(y.jsx)(f.a,{className:"testNav invisible",onClick:function(e){l("1")},children:"\u23ee"}),Object(y.jsx)(f.a,{className:"testNav invisible",onClick:function(e){l(-1)},children:"\u23ea"}),Object(y.jsx)("input",{className:"testNav invisible",type:"number",id:"questionPage",min:"1",max:e.qNumber.toString(),onClick:function(e){return l(e.target.value)}}),Object(y.jsx)(f.a,{className:"testNav invisible",onClick:function(e){l(1)},children:"\u23e9"}),Object(y.jsx)(f.a,{className:"testNav invisible",onClick:function(t){l(e.qNumber.toString())},children:"\u23ed"}),Object(y.jsx)(f.a,{className:"testNav invisible",onClick:function(){clearInterval(t),document.querySelector(".testNav").classList.add("invisible"),document.querySelectorAll(".testNav").forEach((function(e){e.classList.add("invisible")})),e.onExit(s)},children:"\ud83d\uded1"}),Object(y.jsx)("h4",{className:"testNav invisible",children:s})]})})},M=(n(94),function(e){return Object(c.useEffect)((function(){for(var t=0;t<document.querySelectorAll(".checkOut").length;t++)document.querySelector("#answer_"+t).checked=!1,e.checkedMarks.indexOf(t)>=0&&(document.querySelector("#answer_"+t).checked=!0)})),Object(y.jsx)(c.Fragment,{children:Object(y.jsxs)("div",{className:"container",style:{opacity:e.vis},children:[Object(y.jsx)("h2",{style:{color:"white",width:"100%"},children:e.question}),e.answers.map((function(t,n){return Object(y.jsxs)("label",{className:"option_item",children:[Object(y.jsx)("input",{type:"checkbox",className:"checkOut",id:"answer_"+n,value:n,onChange:function(t){return function(t){if(1===e.type){for(var n=0;n<e.answers.length;n++)document.querySelector("#answer_"+n).checked=!1;document.querySelector("#"+t.target.id).checked=!0}for(var c=[],a=0;a<e.answers.length;a++)!0===document.querySelector("#answer_"+a).checked&&c.push(a);e.onChange(c)}(t)}}),Object(y.jsxs)("div",{className:"option_inner",style:{backgroundImage:"url(".concat(t.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},children:[Object(y.jsx)("div",{className:"tickmark",children:" "}),Object(y.jsx)("div",{className:"name",children:t.text})]})]})}))]})})}),_=n(57),H=n.n(_);n(102);var W=function(e){return Object(c.useEffect)((function(){for(var t=0;t<document.querySelectorAll(".checkOut").length;t++)document.querySelector("#answer_"+t).checked=!1,e.checkedMarks.indexOf(t)>=0&&(document.querySelector("#answer_"+t).checked=!0)}),[]),Object(y.jsxs)("div",{style:{opacity:e.vis,width:"100%",height:"100%",flexWrap:"wrap",maxWidth:"1300px"},children:[Object(y.jsx)("div",{className:"d-flex align-middle justify-content-center",style:{width:"100%"},children:Object(y.jsx)("img",{src:e.info.img,style:{width:"100%",maxWidth:"350px"},alt:e.info.img})}),Object(y.jsx)("div",{className:"d-flex align-middle justify-content-center",style:{color:"white",width:"100%",height:"10vh"},children:Object(y.jsx)(H.a,{mode:"multi",children:e.question})}),Object(y.jsx)("div",{className:"d-flex align-middle justify-content-center",children:e.answers.map((function(t,n){return Object(y.jsxs)("label",{className:"option_simple",for:"answer_"+n,children:[Object(y.jsx)("input",{type:"checkbox",className:"checkOut",id:"answer_"+n,value:n,onChange:function(t){return function(t){if(1===e.info.correct){for(var n=0;n<e.answers.length;n++)document.querySelector("#answer_"+n).checked=!1;document.querySelector("#"+t.target.id).checked=!0}for(var c=[],a=0;a<e.answers.length;a++)!0===document.querySelector("#answer_"+a).checked&&c.push(a);e.onChange(c)}(t)}}),Object(y.jsx)("div",{className:"option_inner",children:Object(y.jsx)("span",{className:"name",children:t.text})})]})}))})]})},B=(n(103),function(e){return Object(y.jsxs)("div",{style:{height:"100%",width:"100%",backgroundImage:"url(".concat(e.background,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:["box"===e.info.layout?Object(y.jsx)(M,{type:e.info.correct,vis:e.vis,question:e.question,answers:e.answers,checkedMarks:e.checkedMarks,onChange:function(t){e.onChange(t)}}):Object(y.jsx)("div",{style:{display:"none"}}),"simple"===e.info.layout?Object(y.jsx)(W,{info:e.info,vis:e.vis,question:e.question,answers:e.answers,checkedMarks:e.checkedMarks,onChange:function(t){e.onChange(t)}}):Object(y.jsx)("div",{style:{display:"none"}})]})});var z=function(e){var t=v.firestore(),n=Object(c.useState)([]),a=Object(j.a)(n,2),s=a[0],i=a[1];return Object(c.useEffect)((function(){var n=[];(function(){var c=Object(d.a)(u.a.mark((function c(){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t.collection("results").where("testId","==",e.testId).get().then((function(e){e.forEach((function(e){n.push(e.data())})),n.sort((function(e,t){return t.result===e.result?t.time-e.time:t.result-e.result})),i(n),console.log(s)}));case 1:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()(),console.log(s)}),[]),Object(y.jsx)("div",{style:{width:"60vw",maxHeight:"30vh",overflow:"auto",textAlign:"center",justifyContent:"center"},children:Object(y.jsxs)("table",{style:{margin:"auto"},children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Name"}),Object(y.jsx)("th",{children:"Result"}),Object(y.jsx)("th",{children:"Time Lest"})]}),s&&s.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:e.displayName}),Object(y.jsx)("td",{children:e.result}),Object(y.jsx)("td",{children:e.time})]})}))]})})},T=function(e){var t=N().currentUser,n=Object(c.useState)(t?t.displayName:""),a=Object(j.a)(n,2),s=a[0],i=a[1],r=Object(c.useRef)(t?t.uid:"");function o(){window.location.reload(),console.log("redirect to /test")}function l(e){var t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])}return Object(y.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",width:"100%",height:"100vh",alignContent:"center",justifyContent:"center",color:"black",textShadow:"2px 2px #ff0000",backgroundImage:"url(".concat(e.background,")"),backgroundSize:"100% 100%"},children:[e.testId.length>0&&Object(y.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"Top results"}),e.testId.length>0&&Object(y.jsx)(z,{testId:e.testId}),Object(y.jsxs)("h3",{style:{width:"100%",textAlign:"center"},children:["You have ",e.rate,"% ",l(e.time),"sec left"]}),Object(y.jsx)("div",{style:{width:"60vw",maxHeight:"30vh",overflow:"auto",textAlign:"center",justifyContent:"center"},children:Object(y.jsxs)("table",{style:{margin:"auto"},children:[Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{children:"Question"}),Object(y.jsx)("th",{children:"Result"})]}),e.res.map((function(e,t){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{children:t+1}),Object(y.jsx)("td",{children:e?Object(y.jsx)("span",{children:"\u2705"}):Object(y.jsx)("span",{children:"\u274c"})})]})}))]})}),e.testId.length>0&&Object(y.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"Would you like to save results?"}),r.current.length<=0&&Object(y.jsxs)("label",{className:"headerStyle",style:{width:"100%",textAlign:"center"},children:["Enter your display Name. You are not in our database",Object(y.jsx)("input",{id:"testName",style:{marginLeft:"10px"},onChange:function(e){return i(e.target.value)}})]}),e.testId.length>0&&Object(y.jsx)(f.a,{variant:"success",style:{margin:"5px"},onClick:function(t){v.firestore().collection("results").add({testId:e.testId,displayName:s,userId:r.current,result:e.rate,time:l(e.time)}).then((function(e){o()})).catch((function(e){console.log("fail to record result")}))},children:"Yes, Please do!"}),e.testId.length>0&&Object(y.jsx)(f.a,{variant:"danger",style:{margin:"5px"},onClick:function(e){return o()},children:"No, Thank you!"}),Object(y.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:e.testId.length<=0&&Object(y.jsx)(f.a,{variant:"success",style:{margin:"5px"},onClick:function(e){return o()},children:"Come Back!"})})]})};n(104);var G=function(e){var t=[e.test.main.hours,e.test.main.minutes,e.test.main.seconds],n=e.test.main.background,a=e.test.test,s=[],i=[],r=Object(c.useState)(0),o=Object(j.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)(""),b=Object(j.a)(d,2),h=b[0],m=b[1],O=Object(c.useState)([]),f=Object(j.a)(O,2),x=f[0],g=f[1],p=Object(c.useState)([]),v=Object(j.a)(p,2),w=v[0],N=v[1],k=Object(c.useState)(0),C=Object(j.a)(k,2),S=C[0],q=C[1],I=Object(c.useState)(0),L=Object(j.a)(I,2),P=L[0],E=L[1],R=Object(c.useState)(""),U=Object(j.a)(R,2),A=U[0],F=U[1];function M(e){for(var t=[],n=e.length,c=0,a=0;a<n;a++)c=Math.floor(Math.random()*e.length),t.push(e[c]),e.splice(c,1);return t}function _(e,t){for(var n=[],c=0,a=0;a<t;a++)c=Math.floor(Math.random()*e.length),n.push(e[c]),e.splice(c,1);return n}function H(e){var t=[],n=0;console.log(e);var c=function(){for(var e=[],t=[],n=0;n<A.length;n++){t=[];for(var c=0;c<A[n].answers.length;c++)!0===A[n].answers[c].choice&&t.push(c);e.push(t)}return e}();E(0);for(var a=0;a<c.length;a++)JSON.stringify(c[a])===JSON.stringify(x[a])?t.push(!0):t.push(!1),!0===t[a]&&(n+=1);console.log((n/c.length*100).toFixed(2).toString()),q((n/c.length*100).toFixed(2)),N(t),m(e),console.log(w)}return Object(c.useEffect)((function(){console.log(e.test.id);for(var t=[],n=0;n<a.length;n++)t=M(t=_(a[n].rights,a[n].info.correct).concat(_(a[n].wrongs,a[n].info.positions-a[n].info.correct))),s.push({info:a[n].info,question:a[n].question[0],answers:t}),i.splice(0,0,[]);g(i),F(s)}),[]),Object(y.jsxs)(y.Fragment,{children:[w.length>0&&Object(y.jsx)(T,{res:w,rate:S,time:h,background:n,testId:e.local?"":e.test.id}),A&&w.length<=0&&Object(y.jsx)(D,{qNumber:A.length,hours:t[0],minutes:t[1],seconds:t[2],onExit:function(e){H(e)},onChange:function(e){!function(e){e>0?u(e-1):(u(e),E(1))}(e)}}),A&&w.length<=0&&Object(y.jsx)(B,{background:n,info:A[l].info,vis:P,question:A[l].question,answers:A[l].answers,checkedMarks:x[l],onChange:function(e){!function(e){var t=x;t.splice(l,1,e),g(t)}(e)}})]})};function Y(){var e=Object(c.useState)({}),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),i=Object(j.a)(s,2),r=i[0],l=i[1],u=v.firestore(),d=Object(o.g)().id;return Object(c.useEffect)((function(){console.log(d),u.collection("tests").doc(d).get().then((function(e){a(Object(I.a)(Object(I.a)({},e.data()),{},{id:d})),l(!0)})).catch((function(e){console.log(e)}))}),[]),Object(y.jsx)(y.Fragment,{children:r&&Object(y.jsx)(G,{test:n,local:!1})})}var J=function(e){var t=Object(c.useState)(!0),n=Object(j.a)(t,2),a=n[0],s=n[1],i=N(),l=i.currentUser,b=i.logout,h=Object(c.useState)(""),m=Object(j.a)(h,2),O=m[0],f=m[1],x=Object(c.useState)(!1),g=Object(j.a)(x,2),p=g[0],v=g[1];function w(){return(w=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:v(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Failed to log out");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){l&&(l.photoURL>""?f(l.photoURL):f("/test-editor./images/defaultIcon.png"))}),[l]),!0===p?Object(y.jsx)(o.a,{to:"/login"}):Object(y.jsxs)("nav",{className:"navbar navbar-expand-lg",children:[Object(y.jsx)(r.b,{to:"/",className:"navHeader",children:"Quiz Land"}),Object(y.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":!a,"aria-label":"Toggle navigation",onClick:function(){s(!a)},children:Object(y.jsx)("div",{style:{width:"1em",height:"1em",color:"white"},children:a?Object(y.jsxs)("svg",{viewBox:"0 0 29 15",stroke:"white",xmlns:"http://www.w3.org/2000/svg",children:[Object(y.jsx)("path",{d:"M0.00012207 1.5C0.00012207 0.671573 0.671695 0 1.50012 0H27.5001C28.3285 0 29.0001 0.671573 29.0001 1.5C29.0001 2.32843 28.3285 3 27.5001 3H1.50012C0.671695 3 0.00012207 2.32843 0.00012207 1.5Z",fill:"#010101"}),Object(y.jsx)("path",{d:"M0.00012207 7.5C0.00012207 6.67157 0.671695 6 1.50012 6H27.5001C28.3285 6 29.0001 6.67157 29.0001 7.5C29.0001 8.32843 28.3285 9 27.5001 9H1.50012C0.671695 9 0.00012207 8.32843 0.00012207 7.5Z",fill:"#010101"}),Object(y.jsx)("path",{d:"M0.00012207 13.5C0.00012207 12.6716 0.671695 12 1.50012 12H27.5001C28.3285 12 29.0001 12.6716 29.0001 13.5C29.0001 14.3284 28.3285 15 27.5001 15H1.50012C0.671695 15 0.00012207 14.3284 0.00012207 13.5Z",fill:"#010101"})]}):Object(y.jsxs)("svg",{viewBox:"0 0 23 23",stroke:"white",xmlns:"http://www.w3.org/2000/svg",children:[Object(y.jsx)("path",{d:"M1.06069 1.06066C1.64647 0.474877 2.59622 0.474877 3.18201 1.06066L21.5668 19.4454C22.1526 20.0312 22.1526 20.981 21.5668 21.5668C20.981 22.1525 20.0312 22.1525 19.4455 21.5668L1.06069 3.18198C0.474901 2.5962 0.474901 1.64645 1.06069 1.06066Z",fill:"#010101"}),Object(y.jsx)("path",{d:"M1.06062 21.5668C0.47483 20.981 0.47483 20.0312 1.06062 19.4454L19.4454 1.06066C20.0312 0.474876 20.9809 0.474876 21.5667 1.06066C22.1525 1.64645 22.1525 2.5962 21.5667 3.18198L3.18194 21.5668C2.59615 22.1525 1.6464 22.1525 1.06062 21.5668Z",fill:"#010101"})]})})}),Object(y.jsx)("div",{className:"".concat(a?"collapse":""," navbar-collapse"),id:"navbarNav",children:Object(y.jsxs)("ul",{className:"navbar-nav",children:[Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(r.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(r.b,{to:"/signup",className:"nav-link",children:"Signup"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(r.b,{to:"/test",className:"nav-link",children:"Take Tests"})}),l?Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(r.b,{to:"/create",className:"nav-link",children:"Create tests"})}):"",Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(r.b,{to:"/",className:"nav-link",children:"About"})}),Object(y.jsx)("li",{className:"nav-item",children:Object(y.jsx)(r.b,{to:"#",className:"nav-link",onClick:function(e){return function(e){return w.apply(this,arguments)}(e)},children:"Logout"})})]})}),Object(y.jsx)(r.b,{to:"/",className:"nav-link",children:Object(y.jsx)("img",{className:"member-photo",src:O>""?O:"/test-editor./images/defaultIcon.png",alt:"profile pic"})})]})};n(105);var V=function(){var e=v.firestore(),t=Object(c.useState)([]),n=Object(j.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(!1),r=Object(j.a)(i,2),o=r[0],l=r[1],b=Object(c.useState)(!1),h=Object(j.a)(b,2),m=h[0],O=h[1],f=N().currentUser;return Object(c.useEffect)((function(){var t=[];(function(){var n=Object(d.a)(u.a.mark((function n(){var c,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=f?f.uid:"",n.next=3,e.collection("tests").get();case 3:a=n.sent,console.log(t),s(a.docs.map((function(e){return Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id})})).filter((function(e){return e.main.author===c||"Public"===e.main.visibility})));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()(),console.log(a)}),[]),Object(y.jsxs)(y.Fragment,{children:[!o&&Object(y.jsxs)("div",{style:{width:"100%"},children:[a&&a.map((function(e,t){return Object(y.jsx)("div",{style:{position:"relative",margin:"5px"},children:Object(y.jsxs)("div",{value:e.id,onClick:function(e){return function(e){console.log(e.target.getAttribute("value")),l(a.filter((function(t){return t.id===e.target.getAttribute("value")}))[0])}(e)},children:[e.main.name," by ",e.main.authorName," "]})})})),f&&Object(y.jsxs)("label",{className:"headerStyle",children:[" Load saved locally test",Object(y.jsx)("input",{type:"file",id:"fileinput",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){l(JSON.parse(e.target.result)),O(!0)},n.readAsText(t)}else alert("Failed to load file")}(e)}})]})]}),o&&Object(y.jsx)(G,{test:o,local:m})]})},Z=n(39);var Q=function(e){var t=Object(c.useState)(e.answer.text),n=Object(j.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)(e.answer.img),r=Object(j.a)(i,2),o=r[0],l=r[1],u=Object(c.useState)(),d=Object(j.a)(u,2),b=d[0],h=d[1];function m(t,n){var c={text:t,img:n,num:e.num};e.onChange(c)}return Object(c.useEffect)((function(){s(e.answer.text),e.answer.img.length>0?(h(1),l(e.answer.img)):h(0)}),[e.answer]),Object(y.jsx)(c.Fragment,{children:Object(y.jsxs)("div",{children:[Object(y.jsx)("textarea",{style:{width:"100%"},id:"answer_"+e.num,value:a,onChange:function(e){return function(e){s(e.target.value),m(e.target.value,o)}(e)}}),Object(y.jsxs)("label",{style:{color:"black",width:"100%"},children:[Object(y.jsx)("input",{type:"checkbox",id:"check_"+e.num,onChange:function(e){h(0===b?1:0)},checked:1===b?"checked":""}),"check to add image link"]}),Object(y.jsx)("input",{type:"text",id:"pic_"+e.num,style:{width:"80%",opacity:b},value:o,onChange:function(e){return function(e){l(e.target.value),console.log(o),m(a,e.target.value)}(e)}}),b&&Object(y.jsx)(A,{style:{width:"200px",objectFit:"cover",margin:"10px"},getImgUrl:function(e){document.querySelector("#mainImg").value=e,l(e),m(a,e)}})]})})};var K=function(e){var t=Object(c.useState)([]),n=Object(j.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){s(e.answers)}),[e.answers]),Object(y.jsx)(b.a,{className:"d-flex align-items-center justify-content-center",style:{minHeight:"100vh"},children:Object(y.jsx)("div",{className:"w-100",style:{maxWidth:"400px"},children:Object(y.jsxs)("div",{style:{width:"100%"},children:[a&&a.map((function(t,n){return Object(y.jsxs)("div",{style:{position:"relative",margin:"5px"},children:[Object(y.jsx)(Q,{num:n,answer:t,onDelete:function(e){return e.target.value},onNew:function(e){return e.target.value},onChange:function(t){return function(t){var n=e.answers;if(""===t.text&&""===t.img)n.splice(t.num,1);else{var c={text:t.text,img:t.img,correct:e.correct};n.splice(t.num,1,c)}e.onChange(n)}(t)}}),Object(y.jsx)(f.a,{style:{position:"absolute",bottom:0,right:0},variant:"danger",id:"eraseBtn_"+n,value:n,onClick:function(t){return function(t){e.onDelete(t.target.value)}(t)},children:"x"})]})})),Object(y.jsx)(f.a,{variant:"success",onClick:function(t){!function(){var t={text:"",img:"",choice:e.correct};e.onNew(t)}()},children:"New"})]})})})},X=n(114),$=n(55),ee=[];var te=function(e){var t={},n=Object(c.useState)(""),a=Object(j.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(0),o=Object(j.a)(r,2),l=o[0],u=o[1],d=Object(c.useState)(0),b=Object(j.a)(d,2),h=b[0],m=b[1],O=Object(c.useState)(""),x=Object(j.a)(O,2),g=x[0],p=x[1],v=Object(c.useState)(""),w=Object(j.a)(v,2),N=w[0],k=w[1],C=Object(c.useState)(!1),S=Object(j.a)(C,2),q=S[0],I=S[1],L=Object(c.useState)([]),P=Object(j.a)(L,2),E=P[0],R=P[1],U=Object(c.useState)([]),F=Object(j.a)(U,2),D=F[0],M=F[1];function _(n,c){c?t.rights=n:t.wrongs=n,e.onChange(t)}function H(n,c){c?(t=e.q.rights,console.log(t),t.push({text:"",img:"",choice:!0})):(t=e.q.wrongs).push({text:"",img:"",choice:!1}),e.onChange(t)}function W(n,c){c?(t=e.q.rights).splice(n,1):(t=e.q.wrongs).splice(n,1),e.onChange(t)}return Object(c.useEffect)((function(){document.querySelector("#question").value=e.q.question,document.querySelector("#mainImg").value=e.q.info.img,document.querySelector("#positionsCount").value=e.q.info.positions,document.querySelector("#correctCount").value=e.q.info.correct,document.querySelector("#layout1").value=e.q.info.layout,R(e.q.rights),M(e.q.wrongs),i(e.q.question),u(e.q.info.positions),m(e.q.info.correct),k(e.q.info.layout),p(e.q.info.img)}),[e.q]),Object(y.jsxs)(c.Fragment,{children:[Object(y.jsx)("h3",{className:"headerStyle",children:"Enter your question"}),Object(y.jsx)("textarea",{id:"question",style:{width:"100%"},onChange:function(t){i(t.target.value),e.onChange({question:t.target.value})}}),Object(y.jsx)("h4",{className:"headerStyle",children:"Add your question main picture link (if you have one)"}),Object(y.jsx)("input",{id:"mainImg",style:{width:"100%"},onChange:function(t){p(t.target.value),e.onChange({mainImg:t.target.value})}}),Object(y.jsx)(A,{style:{width:"200px",objectFit:"cover",margin:"10px"},getImgUrl:function(t){document.querySelector("#mainImg").value=t,p(t),e.onChange({mainImg:t})}}),Object(y.jsxs)("label",{style:{width:"100%",color:"black"},children:[Object(y.jsx)("select",{id:"layout1",style:{width:"40%",marginRight:"5px",marginTop:"5px"},onChange:function(t){k(t.target.value),e.onChange({layout1:t.target.value})},children:["simple","box"].map((function(e,t){return Object(y.jsx)("option",{value:e,children:e})}))}),"Choose question layout"]}),Object(y.jsxs)("label",{style:{width:"50%",color:"black"},children:[Object(y.jsx)("input",{id:"positionsCount",type:"number",min:0,max:E.length+D.length,style:{width:"20%",marginRight:"5px",marginTop:"5px"},onChange:function(t){u(t.target.value),e.onChange({positionsCount:t.target.value})}}),"How many positions would be displayed?(Maximum should be less then answers options)"]}),Object(y.jsxs)("label",{style:{width:"50%",color:"black"},children:[Object(y.jsx)("input",{id:"correctCount",type:"number",min:0,max:E.length,style:{width:"20%",marginRight:"5px",marginTop:"5px"},onChange:function(t){m(t.target.value),e.onChange({correctCount:t.target.value})}}),"How many correct options should be selected?(Maximum should be less then correct answers options)"]}),Object(y.jsxs)(X.a,{children:[Object(y.jsxs)($.a,{xs:12,md:6,children:[Object(y.jsx)("h3",{className:"headerStyle",children:"Enter text of the correct answers:"}),E&&Object(y.jsx)(K,{answers:E,correct:!0,onDelete:function(e){return W(e,1)},onNew:function(e){return H(0,1)},onChange:function(e){return _(e,1)}})]}),Object(y.jsxs)($.a,{xs:12,md:6,children:[Object(y.jsx)("h3",{className:"headerStyle",children:"Enter text of the wrong answers:"}),D&&Object(y.jsx)(K,{answers:D,correct:!1,onDelete:function(e){return W(e,0)},onNew:function(e){return H(0,0)},onChange:function(e){return _(e,0)}})]}),Object(y.jsx)(f.a,{onClick:function(e){return function(e){var t=E.slice(0,h);ee=D.slice(0,l-h);for(var n=0;n<t.length;n++)ee.push(t[n]);console.log(ee),I(!1===q)}()},children:"Preview"})]}),q&&Object(y.jsx)(B,{style:{pointerEvents:"none"},background:e.background,info:{positions:l,correct:h,layout:N,img:g},vis:1,question:s,answers:ee,checkedMarks:[],onChange:function(e){}})]})};n(106);var ne=function(e){function t(t){var n=document.querySelector("#questionPage");Number.isInteger(t)?(1===t&&(""===n.value?n.value=1:parseInt(n.value)<e.qNumber?n.value=parseInt(n.value)+1:n.value=1),-1===t&&(""===n.value?n.value=e.qNumber:parseInt(n.value)>1?n.value-=1:n.value=e.qNumber)):"0"===t?(document.querySelectorAll(".testNav").forEach((function(e){e.classList.remove("invisible")})),document.querySelector("#startNav").classList.add("invisible"),n.value=1):n.value=t;"0"===t?e.onChange(0):e.onChange(parseInt(n.value))}return Object(c.useEffect)((function(){document.getElementById("questionPage").value=1}),[]),Object(y.jsx)(c.Fragment,{children:Object(y.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",width:"100%",justifyContent:"center"},children:[Object(y.jsx)(f.a,{className:"testNav",onClick:function(e){t("1")},children:"\u23ee"}),Object(y.jsx)(f.a,{className:"testNav",onClick:function(e){t(-1)},children:"\u23ea"}),Object(y.jsx)("input",{className:"testNav",type:"number",id:"questionPage",min:"1",max:e.qNumber.toString(),onClick:function(e){return t(e.target.value)}}),Object(y.jsx)(f.a,{className:"testNav",onClick:function(e){t(1)},children:"\u23e9"}),Object(y.jsx)(f.a,{className:"testNav",onClick:function(n){t(e.qNumber.toString())},children:"\u23ed"}),Object(y.jsx)(f.a,{className:"testNav",onClick:function(t){e.onNew("")},children:"\u2795"}),Object(y.jsx)(f.a,{className:"testNav",onClick:function(t){e.onDel("")},children:"\u274c"})]})})};n(107);function ce(e){return Object(y.jsx)("div",{className:"w-100",style:{position:"absolute",top:e.styling.top,left:e.styling.left,maxWidth:"400px"},children:Object(y.jsx)(h.a,{children:Object(y.jsxs)(h.a.Body,{children:[Object(y.jsx)(m.a,{style:{textAlign:"center"},variant:e.styling.variantHead,children:e.styling.heading}),Object(y.jsx)("h5",{className:"text-center mb-2",children:e.styling.text}),Object(y.jsx)(f.a,{variant:e.styling.color1,block:!0,onClick:function(t){e.onReturn(e.styling.button1)},children:e.styling.button1}),Object(y.jsx)(f.a,{variant:e.styling.color2,block:!0,onClick:function(t){e.onReturn(e.styling.button2)},children:e.styling.button2})]})})})}var ae=function(e){var t=v.firestore(),n=Object(c.useState)([]),a=Object(j.a)(n,2),s=a[0],i=a[1],r=Object(c.useState)(!1),o=Object(j.a)(r,2),l=o[0],h=o[1],m=Object(c.useState)(""),O=Object(j.a)(m,2),x=O[0],g=O[1],p=Object(c.useState)(!1),w=Object(j.a)(p,2),N=w[0],k=w[1];return Object(c.useEffect)((function(){(function(){var n=Object(d.a)(u.a.mark((function n(){var c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.collection("tests").get();case 2:c=n.sent,i(c.docs.map((function(e){return Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id})})).filter((function(t){return t.main.author===e.user||"Yes"===t.main.editability})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()(),console.log(s)}),[]),Object(y.jsxs)(b.a,{children:[Object(y.jsx)("div",{style:{width:"100%"},children:s&&s.map((function(t,n){return Object(y.jsxs)("div",{style:{position:"relative",margin:"5px"},children:[Object(y.jsxs)("div",{value:t.id,onClick:function(t){return function(t){console.log(t.target.getAttribute("value")),e.onChange(s.filter((function(e){return e.id===t.target.getAttribute("value")})))}(t)},children:[t.main.name," by ",t.main.authorName," "]}),Object(y.jsx)(f.a,{style:{position:"absolute",bottom:0,right:0},variant:"danger",id:"eraseBtn_"+n,value:n,onClick:function(e){return function(e){var t=e.target.previousSibling.getAttribute("value");k(t);var n=s.map((function(e){return e.id})).indexOf(t),c=s[n];g("Do you really want to delete ".concat(c.main.name," by ").concat(c.main.authorName,"?")),h(!0)}(e)},children:"x"})]})}))}),l&&Object(y.jsx)(ce,{onReturn:function(n){h(!1),"Delete"===n&&t.collection("tests").doc(N).delete().then((function(t){console.log("deleted"),e.reloadNeeded(!0)})).catch((function(e){console.log("can not delete a record")}))},styling:{left:"10vw",top:"10vh",variantHead:"danger",heading:"Warning",text:x,color1:"danger",button1:"Delete",color2:"secondary",button2:"Cancel"}})]})},se={question:"",rights:[{text:"",img:"",choice:!0}],wrongs:[{text:"",img:"",choice:!1}],info:{positions:2,correct:1,layout:"",img:""}};var ie=function(){var e=N().currentUser,t=Object(c.useState)(""),n=Object(j.a)(t,2),a=n[0],s=n[1],i=Object(c.useState)({authorId:"",name:"",testId:""}),r=Object(j.a)(i,2),o=r[0],l=r[1],u=Object(c.useState)(""),d=Object(j.a)(u,2),b=d[0],h=d[1],m=Object(c.useState)(""),O=Object(j.a)(m,2),x=O[0],g=O[1],p=Object(c.useState)(0),w=Object(j.a)(p,2),k=w[0],C=w[1],S=Object(c.useState)(""),q=Object(j.a)(S,2),I=q[0],L=q[1],P=Object(c.useState)(0),E=Object(j.a)(P,2),R=E[0],U=E[1],F=Object(c.useState)(0),D=Object(j.a)(F,2),M=D[0],_=D[1],H=Object(c.useState)(0),W=Object(j.a)(H,2),B=W[0],z=W[1],T=Object(c.useState)(!1),G=Object(j.a)(T,2),Y=G[0],J=G[1],V=Object(c.useState)(""),Q=Object(j.a)(V,2),K=Q[0],X=Q[1],$=Object(c.useState)([se]),ee=Object(j.a)($,2),ie=ee[0],re=ee[1],oe=v.firestore(),le=function(e){window.location.reload()};return Object(y.jsxs)("div",{style:{maxWidth:"1440px",overflow:"hidden"},children:[Object(y.jsxs)("label",{className:"headerStyle",children:[" Load locally saved tests",Object(y.jsx)("input",{type:"file",id:"fileinput",onChange:function(e){return function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.onload=function(e){var t=JSON.parse(e.target.result);console.log(t),re(t.test),l({authorId:"",name:"",testId:""}),document.querySelector("#testName").value=t.main.name,s(t.main.name),document.querySelector("#visibility").value=t.main.visibility,h(t.main.visibility),document.querySelector("#editability").value=t.main.editability,g(t.main.editability),document.querySelector("#background").value=t.main.background,L(t.main.background),document.querySelector("#hh").value=t.main.hours,U(t.main.hours),document.querySelector("#mm").value=t.main.minutes,_(t.main.minutes),document.querySelector("#ss").value=t.main.seconds,z(t.main.seconds)},n.readAsText(t)}else alert("Failed to load file")}(e)}})]}),Object(y.jsx)(f.a,{variant:"success",onClick:function(e){a>""&&(J(!0),X("Did you safe your changes? Your present test ".concat(a," by ").concat(o.name>""?o.name:"You"," will be lost. Proceed?")))},children:"New"}),Object(y.jsx)(f.a,{id:"filedownload",onClick:function(t){return function(t){var n=JSON.stringify({main:{author:e.uid,authorName:e.displayName,name:a,visibility:b,editability:x,background:I,hours:R,minutes:M,seconds:B},test:ie});console.log(n);var c=document.createElement("a");c.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),c.setAttribute("download","test.txt"),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}()},children:"Download"}),Object(y.jsx)(f.a,{id:"fileUpload",onClick:function(t){return function(t){var n={main:{author:e.uid,authorName:e.displayName,name:a,visibility:b,editability:x,background:I,hours:R,minutes:M,seconds:B},test:ie};console.log(n),oe.collection("tests").add(n).then((function(e){console.log("file created in DB"),le()})).catch((function(e){console.log("no connectionto DB")}))}()},children:"Upload as New"}),o.testId>""&&Object(y.jsx)(f.a,{id:"fileUpload",onClick:function(e){return function(e){var t={main:{author:o.authorId,authorName:o.name,name:a,visibility:b,editability:x,background:I,hours:R,minutes:M,seconds:B},test:ie};oe.collection("tests").doc(o.testId).set(t).then((function(e){console.log("file updated"),le()})).catch((function(e){console.log("file fail to updated")}))}()},children:"Update test in DB"}),Object(y.jsx)(ae,{user:e.uid,reloadNeeded:le,onChange:function(e){return function(e){console.log(e);var t=e[0];re(t.test),l({authorId:t.main.author,name:t.main.authorName,testId:t.id}),document.querySelector("#testName").value=t.main.name,s(t.main.name),document.querySelector("#visibility").value=t.main.visibility,h(t.main.visibility),document.querySelector("#editability").value=t.main.editability,g(t.main.editability),document.querySelector("#background").value=t.main.background,L(t.main.background),document.querySelector("#hh").value=t.main.hours,U(t.main.hours),document.querySelector("#mm").value=t.main.minutes,_(t.main.minutes),document.querySelector("#ss").value=t.main.seconds,z(t.main.seconds)}(e)}}),Y&&Object(y.jsx)(ce,{onReturn:function(e){J(!1),"Proceed"===e&&le()},style:{zIndex:550},styling:{left:"10vw",top:"10vh",variantHead:"warning",heading:"Warning",text:K,color1:"danger",button1:"Proceed",color2:"secondary",button2:"Cancel"}}),Object(y.jsxs)("label",{className:"headerStyle",style:{width:"100%"},children:["Enter your test Name",Object(y.jsx)("input",{id:"testName",style:{width:"100%"},onChange:function(e){return s(e.target.value)}})]}),Object(y.jsxs)("label",{className:"headerStyle",style:{width:"43%"},children:["Is this test Private or Public?",Object(y.jsxs)("select",{id:"visibility",type:"",style:{width:"50%",float:"right"},onChange:function(e){return h(e.target.value)},children:[Object(y.jsx)("option",{value:"Private",children:"Private"}),Object(y.jsx)("option",{value:"Public",children:"Public"})]})]}),Object(y.jsxs)("label",{className:"headerStyle",style:{width:"55%"},children:["Would you allow others to edit content of test?",Object(y.jsxs)("select",{id:"editability",style:{width:"30%",float:"right"},onChange:function(e){return g(e.target.value)},children:[Object(y.jsx)("option",{value:"Yes",children:"Yes"}),Object(y.jsx)("option",{value:"No",children:"No"})]})]}),Object(y.jsx)("h4",{className:"headerStyle",style:{width:"40%"},children:"Add test background image link"}),Object(y.jsx)("input",{id:"background",style:{width:"59%"},onChange:function(e){return L(e.target.value)}}),Object(y.jsx)(A,{style:{width:"200px",objectFit:"cover",margin:"10px"},getImgUrl:function(e){document.querySelector("#background").value=e,L(e)}}),Object(y.jsxs)("h4",{className:"headerStyle",style:{width:"100%"},children:["Enter Time limits (if there are no time limit enter 0 0 0) :",Object(y.jsx)("input",{id:"hh",type:"number",min:0,max:10,size:2,style:{width:"9%"},onChange:function(e){return U(e.target.value)}})," hh",Object(y.jsx)("input",{id:"mm",type:"number",min:0,max:59,size:2,style:{width:"9%"},onChange:function(e){return _(e.target.value)}})," mm",Object(y.jsx)("input",{id:"ss",type:"number",min:0,max:59,size:2,style:{width:"9%"},onChange:function(e){return z(e.target.value)}})," ss"]}),Object(y.jsx)(ne,{qNumber:ie.length?ie.length:0,onNew:function(e){return re((function(e){return[].concat(Object(Z.a)(e),[{question:"",rights:[{text:"",img:"",choice:!0}],wrongs:[{text:"",img:"",choice:!1}],info:{positions:2,correct:1,layout:"",img:""}}])})),C(ie.length),void console.log(k)},onDel:function(e){re(ie.filter((function(e){return ie.indexOf(e)!==k})))},onChange:function(e){!function(e){C(e>0?e-1:e),console.log(k),console.log(ie)}(e)}}),ie[k]&&Object(y.jsx)(te,{q:ie[k],background:I,onChange:function(e){return function(e){var t=Object(Z.a)(ie);"question"===Object.getOwnPropertyNames(e)[0]&&(t[k].question=e.question),"mainImg"===Object.getOwnPropertyNames(e)[0]&&(t[k].info.img=e.mainImg),"layout1"===Object.getOwnPropertyNames(e)[0]&&(t[k].info.layout=e.layout1),"positionsCount"===Object.getOwnPropertyNames(e)[0]&&(t[k].info.positions=e.positionsCount),"correctCount"===Object.getOwnPropertyNames(e)[0]&&(t[k].info.correct=e.correctCount),"rights"===Object.getOwnPropertyNames(e)[0]&&(t[k].rights=e.rights),"wrongs"===Object.getOwnPropertyNames(e)[0]&&(t[k].wrongs=e.wrongs),re(t),console.log(t)}(e)}})]})};var re=function(){return Object(y.jsx)(r.a,{children:Object(y.jsxs)(k,{children:[Object(y.jsx)(J,{}),Object(y.jsxs)(o.d,{children:[Object(y.jsx)(P,{exact:!0,path:"/",component:S}),Object(y.jsx)(P,{path:"/update-profile",component:F}),Object(y.jsx)(o.b,{path:"/signup",component:C}),Object(y.jsx)(o.b,{path:"/login",component:q}),Object(y.jsx)(o.b,{path:"/forgot-password",component:E}),Object(y.jsx)(P,{exact:!0,path:"/create",component:ie}),Object(y.jsx)(o.b,{exact:!0,path:"/test",component:V}),Object(y.jsx)(o.b,{path:"/taketest/:id",children:Object(y.jsx)(Y,{})})]})]})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,118)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(re,{})}),document.getElementById("root")),oe()},64:function(e,t,n){},65:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.effd5d0a.chunk.js.map