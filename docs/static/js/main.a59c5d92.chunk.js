(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(29),r=n.n(s),i=(n(62),n(6)),o=n(11),l=(n(63),n(9)),u=n.n(l),d=n(13),b=n(3),j=n(50),h=(n(65),n(118),n(119),j.a.initializeApp({apiKey:"AIzaSyCYNLxM_j3V28VGRVT2apkfYYMMf2SrsJ4",authDomain:"test-editor-7f0d0.firebaseapp.com",databaseURL:"http://test-editor-7f0d0.firebaseio.com",projectId:"test-editor-7f0d0",storageBucket:"test-editor-7f0d0.appspot.com",messagingSenderId:"138558234620",appId:"1:138558234620:web:828919660aa829381a5c79"})),g=h.auth(),m=h,x=n(0),f=a.a.createContext();function O(){return Object(c.useContext)(f)}function p(e){var t=e.children,n=Object(c.useState)(),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!0),o=Object(b.a)(i,2),l=o[0],u=o[1];Object(c.useEffect)((function(){return g.onAuthStateChanged((function(e){r(e),u(!1)}))}),[]);var d={currentUser:s,login:function(e,t){return g.signInWithEmailAndPassword(e,t)},signup:function(e,t){return g.createUserWithEmailAndPassword(e,t)},logout:function(){return g.signOut()},resetPassword:function(e){return g.sendPasswordResetEmail(e)},updateEmail:function(e){return s.updateEmail(e)},updatePassword:function(e){return s.updatePassword(e)},updateUser:function(e,t){return console.log("setting profile "+e+t),console.log(s),s.updateProfile({displayName:e,photoURL:t}).then((function(){})).catch((function(e){console.log("error on Profile update")}))}};return Object(x.jsx)(f.Provider,{value:d,children:!l&&t})}var v=function(){return Object(x.jsxs)("div",{id:"footer",style:{position:"absolute",left:0,bottom:0,width:"100%",marginLeft:"10px",pointerEvents:"cursor"},children:["\xa9 2021 ",Object(x.jsx)(i.b,{to:"/about",children:"Sergey Bolotnikov"})]})};n(27);function y(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=O(),s=a.currentUser,r=a.signup,l=Object(c.useState)(""),j=Object(b.a)(l,2),h=j[0],g=j[1],m=Object(c.useState)(!1),f=Object(b.a)(m,2),p=f[0],y=f[1],w=Object(c.useState)(!1),N=Object(b.a)(w,2),S=N[0],k=N[1];if(!0===S)return Object(x.jsx)(o.a,{to:"/"});if(s)return Object(x.jsx)(o.a,{to:"/redirect"});function C(){return(C=Object(d.a)(u.a.mark((function c(a){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(a.preventDefault(),t.current.value===n.current.value){c.next=3;break}return c.abrupt("return",g("Passwords do not match"));case 3:if(!(t.current.value.length<6)){c.next=5;break}return c.abrupt("return",g("Passwords should be at least 6 symbols long"));case 5:try{g(""),y(!0),r(e.current.value,t.current.value),k(!0)}catch(s){g("Failed to create an account")}y(!1);case 7:case"end":return c.stop()}}),c)})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"mainContainer",children:[Object(x.jsxs)("div",{style:{width:"98%",maxWidth:"400px"},children:[Object(x.jsxs)("div",{className:"registeCard",children:[Object(x.jsxs)("h2",{className:"header1",children:["Sign Up",Object(x.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",className:"logo"})]}),h&&Object(x.jsx)("label",{className:"alertStyle",children:h}),Object(x.jsxs)("form",{onSubmit:function(e){return C.apply(this,arguments)},children:[Object(x.jsxs)("label",{className:"headerStyle",children:["Email",Object(x.jsx)("input",{id:"email",style:{width:"100%",margin:"4% auto"},type:"email",ref:e,required:!0})]}),Object(x.jsxs)("label",{className:"headerStyle",children:["Password",Object(x.jsx)("input",{id:"password",style:{width:"100%",margin:"4% auto"},type:"password",ref:t,required:!0})]}),Object(x.jsxs)("label",{className:"headerStyle",children:["Password Confirmation",Object(x.jsx)("input",{id:"password-confirm",style:{width:"100%",margin:"4% auto"},type:"password",ref:n,required:!0})]}),Object(x.jsx)("button",{disabled:p,className:"testNav",style:{width:"100%",margin:"4% auto"},type:"submit",children:"Sign Up"})]})]}),Object(x.jsxs)("div",{className:"divStyle",children:["Already have an account? ",Object(x.jsx)(i.b,{className:"links",to:"/login",children:"Log In"})]})]}),Object(x.jsx)(v,{})]})}var w=n(8);var N=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],a=t[1],s=O().currentUser,r=Object(c.useState)(0),i=Object(b.a)(r,2),o=i[0],l=i[1],j=Object(c.useState)(0),h=Object(b.a)(j,2),g=h[0],f=h[1],p=Object(c.useState)(0),y=Object(b.a)(p,2),N=y[0],S=y[1],k=Object(c.useState)("BeginnerQuizer"),C=Object(b.a)(k,2),q=C[0],I=C[1],P=m.firestore();function A(){return(A=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(""),window.location.assign("/test-editor/#/update-profile");case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){P.collection("tests").where("main.author","==",s.uid).get().then((function(e){l(e.docs.map((function(e){return Object(w.a)({},e.data())})).length)})).catch((function(e){console.log("fail to get tests for user")})),P.collection("results").where("userId","==",s.uid).get().then((function(e){var t=e.docs.map((function(e){return Object(w.a)({},e.data())})),n=0;console.log(t);for(var c=0;c<t.length;c++)n+=parseFloat(t[c].result);var a=0;t.length>0&&(a=(n/t.length).toFixed(3)),S(a),f(t.length);var s="";a<=100&&(s="DiamondQuizer"),a<=90&&(s="GoldQuizer"),a<=80&&(s="SilverQuizer"),a<=70&&(s="BronzeQuizer"),a<=60&&(s="BeginnerQuizer"),I(s)})).catch((function(e){console.log("fail to get user results")}))}),[]),Object(x.jsxs)("div",{className:"mainContainer",children:[Object(x.jsxs)("div",{style:{width:"98%",maxWidth:"400px",marginTop:"6%"},children:[Object(x.jsxs)("div",{className:"registeCard",style:{padding:".75em"},children:[Object(x.jsxs)("div",{className:"closeTag",onClick:function(e){window.location.assign("/test-editor/#/")},children:[" ",Object(x.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",style:{height:"1%"}}),Object(x.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(2vw,20px)",height:"max(2vw,20px)",float:"right"}})]}),n&&Object(x.jsx)("label",{className:"alertStyle",children:n}),Object(x.jsx)("img",{style:{maxWidth:"60vw",maxHeight:"35vh",margin:"3% 15%"},src:s.photoURL>""?s.photoURL:"/test-editor/icons/defaultUser.svg",alt:"profile pic"}),Object(x.jsxs)("h2",{className:"divStyle",style:{textAlign:"center",width:"100%",maxWidth:"23ch",margin:"auto"},children:[" ",Object(x.jsx)("strong",{children:"@"}),s.displayName]}),Object(x.jsxs)("h6",{className:"divStyle",style:{textAlign:"center",textDecoration:"underline"},children:["   ",s.email," "]})]}),Object(x.jsx)("table",{style:{width:"97%",border:"1px solid white",backgroundColor:"white",borderRadius:"10px",margin:"3% auto"},children:Object(x.jsxs)("tbody",{children:[Object(x.jsxs)("tr",{style:{backgroundColor:"white"},children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%"},children:"Quiz created:"})}),Object(x.jsxs)("td",{children:[" ",Object(x.jsx)("span",{style:{fontStyle:"oblique",color:"#554FA7"},children:o})]})]}),Object(x.jsxs)("tr",{style:{backgroundColor:"white"},children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%"},children:"Quiz results on file:"})}),Object(x.jsxs)("td",{children:[" ",Object(x.jsx)("span",{style:{fontStyle:"oblique",color:"#554FA7"},children:g})]})]}),Object(x.jsxs)("tr",{style:{backgroundColor:"white"},children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%"},children:"Average Quiz rated:"})}),Object(x.jsxs)("td",{children:[" ",Object(x.jsxs)("span",{style:{fontStyle:"oblique",color:"#554FA7"},children:[N,"%"]})]})]}),Object(x.jsx)("tr",{style:{backgroundColor:"transparent"},children:Object(x.jsx)("td",{children:Object(x.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%",color:"transparent"},children:" quiz"})})}),Object(x.jsxs)("tr",{style:{backgroundColor:"lightgrey"},children:[Object(x.jsx)("td",{children:Object(x.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%"},children:"Your rate:"})}),Object(x.jsxs)("td",{children:[" ",Object(x.jsx)("span",{style:{fontStyle:"oblique",color:"#554FA7"},children:q})]})]})]})}),Object(x.jsx)("button",{className:"testNav",style:{width:"100%",margin:"4% auto"},onClick:function(){return A.apply(this,arguments)},children:"Update Profile"})]}),Object(x.jsx)(v,{})]})};function S(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=O(),a=n.currentUser,s=n.login,r=Object(c.useState)(""),l=Object(b.a)(r,2),j=l[0],h=l[1],g=Object(c.useState)(!1),m=Object(b.a)(g,2),f=m[0],p=m[1],y=Object(c.useState)(!1),w=Object(b.a)(y,2),N=w[0],S=w[1];if(!0===N)return Object(x.jsx)(o.a,{to:"/"});if(a)return Object(x.jsx)(o.a,{to:"/redirect"});function k(){return(k=Object(d.a)(u.a.mark((function n(c){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,h(""),p(!0),n.next=6,s(e.current.value,t.current.value);case 6:S(!0),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(1),h("Failed to log in");case 12:p(!1);case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"mainContainer",children:[Object(x.jsxs)("div",{style:{width:"98%",maxWidth:"400px"},children:[Object(x.jsxs)("div",{className:"registeCard",children:[Object(x.jsxs)("h2",{className:"header1",children:["Log In",Object(x.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",className:"logo"})," "]}),j&&Object(x.jsx)("label",{className:"alertStyle",children:j}),Object(x.jsxs)("form",{onSubmit:function(e){return k.apply(this,arguments)},children:[Object(x.jsxs)("label",{className:"headerStyle",children:["Email",Object(x.jsx)("input",{id:"email",style:{width:"100%",margin:"4% auto"},type:"email",ref:e,required:!0})]}),Object(x.jsxs)("label",{className:"headerStyle",children:["Password",Object(x.jsx)("input",{id:"password",style:{width:"100%",margin:"4% auto"},type:"password",ref:t,required:!0})]}),Object(x.jsx)("button",{disabled:f,className:"testNav",style:{width:"100%",margin:"4% auto"},type:"submit",children:"Log In"})]}),Object(x.jsx)("div",{className:"divStyle",children:Object(x.jsx)(i.b,{className:"links",to:"/forgot-password",children:"Forgot Password?"})})]}),Object(x.jsxs)("div",{className:"divStyle",children:["Need an account? ",Object(x.jsx)(i.b,{className:"links",to:"/signup",children:"Sign Up"})]}),Object(x.jsxs)("div",{className:"divStyle",children:["Want a demo? ",Object(x.jsx)(i.b,{className:"links",to:"/taketest/RtqxyubO57LToxbaOzpj",children:"Take Demo Test"})]})]}),Object(x.jsx)(v,{})]})}function k(){return Object(x.jsx)("div",{className:"mainContainer",children:Object(x.jsx)("div",{style:{width:"98%",maxWidth:"400px"},children:Object(x.jsx)("div",{className:"registeCard",children:Object(x.jsxs)("h2",{className:"header1",children:["About",Object(x.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",className:"logo"})," "]})})})})}var C=function(){var e=O().logout;function t(){return(t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log("Failed to log out");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){t.apply(this,arguments)}()}),[]),Object(x.jsx)(o.a,{to:"/login"})};var q=function(){return Object(x.jsx)(o.a,{to:"/"})},I=n(57);function P(e){var t=e.component,n=Object(I.a)(e,["component"]),c=O().currentUser;return Object(x.jsx)(o.b,Object(w.a)(Object(w.a)({},n),{},{render:function(e){return c?Object(x.jsx)(t,Object(w.a)({},e)):Object(x.jsx)(o.a,{to:"/login"})}}))}function A(){var e=Object(c.useRef)(),t=O().resetPassword,n=Object(c.useState)(""),a=Object(b.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(""),l=Object(b.a)(o,2),j=l[0],h=l[1],g=Object(c.useState)(!1),m=Object(b.a)(g,2),f=m[0],p=m[1];function v(){return(v=Object(d.a)(u.a.mark((function n(c){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.prev=1,h(""),r(""),p(!0),n.next=7,t(e.current.value);case 7:h("Check your inbox for further instructions"),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),r("Failed to reset password");case 13:p(!1);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))).apply(this,arguments)}return Object(x.jsx)("div",{className:"mainContainer",children:Object(x.jsxs)("div",{style:{width:"98%",maxWidth:"400px"},children:[Object(x.jsxs)("div",{className:"registeCard",children:[Object(x.jsxs)("h2",{className:"header1",children:["Password Reset",Object(x.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",className:"logo"})]}),s&&Object(x.jsx)("label",{className:"alertStyle",children:s}),j&&Object(x.jsx)("label",{className:"successStyle",children:j}),Object(x.jsxs)("form",{onSubmit:function(e){return v.apply(this,arguments)},children:[Object(x.jsxs)("label",{className:"headerStyle",children:["Email",Object(x.jsx)("input",{id:"email",type:"email",ref:e,required:!0})]}),Object(x.jsx)("button",{disabled:f,className:"btnNav",type:"submit",children:"Reset Password"})]}),Object(x.jsx)("div",{className:"divStyle",children:Object(x.jsx)(i.b,{to:"/login",className:"links",children:"Login"})})]}),Object(x.jsxs)("div",{className:"divStyle",children:["Need an account? ",Object(x.jsx)(i.b,{to:"/signup",className:"links",children:"Sign Up"})]})]})})}var E=n(52),L=n.n(E);var z=function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1];return Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"start",marginLeft:"2%",maxWidth:"600px"},children:[Object(x.jsx)("input",{type:"file",style:{width:"48%"},onChange:function(e){return s(e.target.files[0])}}),Object(x.jsx)("div",{className:"cloudinary-button testNav",onClick:function(t){!function(t){var n=new FormData;n.append("file",a),n.append("upload_preset","quizzes"),L.a.post("https://api.cloudinary.com/v1_1/sergeyb/image/upload",n).then((function(n){s(""),console.log(n.data.url),console.log(t.target.parentElement.previousSibling.value),t.target.parentElement.previousSibling.value="",e.getImgUrl(n.data.url)})).catch((function(e){console.log("Fail to upload image")}))}(t)},children:"Upload Image"})]})};function U(){var e=Object(c.useRef)(),t=Object(c.useRef)(),n=Object(c.useRef)(),a=Object(c.useRef)(),s=O(),r=s.currentUser,l=s.updatePassword,u=s.updateEmail,d=s.updateUser,j=Object(c.useState)(""),h=Object(b.a)(j,2),g=h[0],m=h[1],f=Object(c.useState)(!1),p=Object(b.a)(f,2),y=p[0],w=p[1],N=Object(c.useState)(!1),S=Object(b.a)(N,2),k=S[0],C=S[1],q=Object(c.useState)(r.photoURL),I=Object(b.a)(q,2),P=I[0],A=I[1];return!0===k?Object(x.jsx)(o.a,{to:"/dashboard"}):Object(x.jsxs)("div",{className:"mainContainer",children:[Object(x.jsxs)("div",{style:{width:"98%",maxWidth:"400px",marginTop:"5%"},children:[Object(x.jsxs)("div",{className:"registeCard",children:[Object(x.jsxs)("h2",{className:"header1",children:["Update Profile",P.length>0&&Object(x.jsx)("img",{src:P,alt:"logo simple",className:"logo"})]}),g&&Object(x.jsx)("label",{className:"alertStyle",children:g}),Object(x.jsxs)("form",{onSubmit:function(c){if(c.preventDefault(),t.current.value!==a.current.value)return m("Passwords do not match");var s=[];w(!0),m(""),e.current.value!==r.email&&s.push(u(e.current.value)),t.current.value&&s.push(l(t.current.value)),n.current.value===r.displayName&&P===r.photoURL||s.push(d(n.current.value,P)),Promise.all(s).then((function(){C(!0)})).catch((function(){m("Failed to update account")})).finally((function(){w(!1)}))},children:[Object(x.jsxs)("label",{className:"headerStyle",children:["User's Name (keep it shorter then 20 symbols please)",Object(x.jsx)("input",{id:"userName",type:"text",ref:n,defaultValue:r.displayName,placeholder:"Leave blank to keep the same"})]}),Object(x.jsxs)("label",{className:"headerStyle",id:"userURL",children:["User's picture link",Object(x.jsx)("input",{type:"text",onChange:function(e){A(e.target.value)},defaultValue:r.photoURL}),Object(x.jsx)(z,{style:{width:"200px",objectFit:"cover",margin:"10px"},getImgUrl:function(e){document.querySelector("#userURL").childNodes[1].value=e,A(e),console.log(P)}})]}),Object(x.jsxs)("label",{className:"headerStyle",children:["Email",Object(x.jsx)("input",{id:"email",type:"email",ref:e,required:!0,defaultValue:r.email})]}),Object(x.jsxs)("label",{className:"headerStyle",children:["Password",Object(x.jsx)("input",{id:"password",type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(x.jsxs)("label",{className:"headerStyle",children:["Password Confirmation",Object(x.jsx)("input",{id:"password-confirm",type:"password",ref:a,placeholder:"Leave blank to keep the same"})]}),Object(x.jsx)("button",{disabled:y,className:"testNav",style:{width:"100%",margin:"2% auto"},type:"submit",children:"Update"})]})]}),Object(x.jsx)("div",{className:"divStyle",children:Object(x.jsx)(i.b,{to:"/dashboard",className:"links",children:"Cancel"})})]}),Object(x.jsx)(v,{})]})}var F={danger:{color:"#721c24",backgroundColor:"#f8d7da",borderColor:"#f5c6cb"},success:{color:"#155724",backgroundColor:"#d4edda",borderColor:"#c3e6cb"},secondary:{color:"#383d41",backgroundColor:"#e2e3e5",borderColor:"#d6d8db"},warning:{color:"#856404",backgroundColor:"#fff3cd",borderColor:"#ffeeba"},info:{color:"#0c5460",backgroundColor:"#d1ecf1",borderColor:"#bee5eb"},"":{}};function R(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),i=Object(b.a)(r,2),o=i[0],l=i[1];function u(){window.onscroll=function(){}}return Object(c.useEffect)((function(){s(Object.values(F)[Object.keys(F).indexOf(e.styling.color1)].color),l(Object.values(F)[Object.keys(F).indexOf(e.styling.color2)].color),function(){var e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)},console.log(e,t)}()}),[]),Object(x.jsx)("div",{style:{width:"100vw",height:"100vh",position:"absolute",top:window.pageYOffset,left:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:"1700",backgroundColor:"rgba(105,105,105, .7)"},children:Object(x.jsxs)("div",{className:"alertContainer",children:[Object(x.jsx)("label",{className:"alertItemStyle",style:Object.values(F)[Object.keys(F).indexOf(e.styling.variantHead)],children:e.styling.heading}),Object(x.jsx)("h5",{className:"alertItemStyle",children:e.styling.text}),e.styling.inputField&&Object(x.jsx)("input",{id:"inputField",style:{width:"100%",marginBottom:"10px"},defaultValue:e.inputValue}),""!==e.styling.color1&&Object(x.jsx)("button",{className:"alertItemStyle",style:{backgroundColor:a,color:"white"},onClick:function(t){u(),e.onReturn(e.styling.button1,e.styling.inputField?document.querySelector("#inputField").value:null)},children:e.styling.button1}),""!==e.styling.color2&&Object(x.jsx)("button",{className:"alertItemStyle",style:{backgroundColor:o,color:"white"},onClick:function(t){u(),e.onReturn(e.styling.button2)},children:e.styling.button2})]})})}var T=function(e){var t,n=Object(c.useState)(f(e.hours,e.minutes,e.seconds)),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)(!1),o=Object(b.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)({}),j=Object(b.a)(d,2),h=j[0],g=j[1],m=3600*e.hours+60*e.minutes+e.seconds;function f(e,t,n){return"".concat(e<10?"0"+e:e,":").concat(t<10?"0"+t:t,":").concat(n<10?"0"+n:n)}function O(){clearInterval(t),window.onscroll=function(){},console.log("end"),document.querySelector(".testNav").classList.add("invisible"),document.querySelectorAll(".testNav").forEach((function(e){e.classList.add("invisible")})),e.onExit(s)}function p(t){var n=document.querySelector("#questionPage");if(Number.isInteger(t))1===t&&(""===n.value?n.value=1:parseInt(n.value)<e.qNumber?n.value=parseInt(n.value)+1:(n.value=1,g({variantHead:"danger",heading:"Warning",text:"Would you like to finish the test?",color1:"danger",button1:"Finish",color2:"secondary",button2:"Cancel"}),u(!0))),-1===t&&(""===n.value?n.value=e.qNumber:parseInt(n.value)>1?n.value-=1:n.value=e.qNumber);else if("0"===t){var c=document.querySelectorAll(".testNav");c.forEach((function(e){e.classList.remove("invisible")})),(c=document.querySelectorAll(".testNavLight")).forEach((function(e){e.classList.remove("invisible")})),document.querySelector("#startNav").classList.add("invisible"),n.value=1}else n.value=t;"0"===t?e.onChange(0):e.onChange(parseInt(n.value))}return Object(x.jsxs)(c.Fragment,{children:[l&&Object(x.jsx)(R,{onReturn:function(e){u(!1),"Finish"===e&&O()},styling:h}),Object(x.jsx)("button",{className:"testNav",id:"startNav",style:{position:"absolute",top:"44vh",left:"43vw",zIndex:"200"},onClick:function(n){var c=e.seconds,a=e.minutes,s=e.hours;!function(){var e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)},console.log(e,t)}(),p("0"),n.preventDefault(),0===c&&0===a&&0===s||(t=setInterval((function(){m--,0===c?c=59:c--,59===c&&(0===a?(a=59,s--):a--),r(f(s,a,c)),0===m&&(clearInterval(t),document.querySelector(".testNav").classList.add("invisible"),e.onExit("00:00:00"))}),1e3))},children:"Start"}),Object(x.jsx)("button",{className:"testNav invisible",style:{position:"absolute",top:"10vh",left:0,textShadow:"1px 1px black",background:"transparent",zIndex:1500},onClick:function(e){p(-1)},children:"\u23eaBack"}),Object(x.jsxs)("label",{className:"testNav invisible",style:{position:"absolute",top:"0",left:"0",margin:"1.25vh 1vw",fontSize:"calc(10px + 1vw)",zIndex:1500},children:[Object(x.jsx)("input",{className:"testNavLight invisible",style:{width:"3ch",fontSize:"calc(10px + 1vw)"},type:"number",id:"questionPage",min:"1",max:e.qNumber.toString(),onClick:function(e){return p(e.target.value)}}),"of ",e.qNumber]}),Object(x.jsx)("button",{className:"testNav invisible ",style:{position:"absolute",top:"10vh",right:0,textShadow:"1px 1px black",background:"transparent",zIndex:1500},onClick:function(e){p(1)},children:"\u23e9Next"}),Object(x.jsx)("label",{className:"testNav invisible",style:{position:"absolute",background:"transparent",top:0,left:"38vw",width:"8ch",zIndex:1500,textShadow:"1px 1px black"},children:s}),Object(x.jsx)("button",{className:"testNav invisible",id:"finishBtn",style:{position:"absolute",top:0,right:0,marginTop:"1.25vh",backgroundImage:"url(".concat("/test-editor/icons/finish.svg",")"),width:"9vh",height:"3vh",borderWidth:"0px",borderRadius:"5px",zIndex:1500},onClick:O})]})},W=n(32),D=n.n(W),_=(n(96),function(e){return Object(c.useEffect)((function(){for(var t=0;t<e.answers.length;t++)document.querySelector("#answer_"+t).checked=!1,e.checkedMarks.indexOf(t)>=0&&(document.querySelector("#answer_"+t).checked=!0)}),[e.answers]),Object(x.jsx)(c.Fragment,{children:Object(x.jsxs)("div",{id:"questionContainerBox",style:{opacity:e.vis},children:[Object(x.jsx)("section",{className:"questionSection",children:Object(x.jsx)(D.a,{max:256,mode:"multi",min:12,style:{color:"white",minHeight:"90%",maxHeight:"90%",minWidth:"90%",maxWidth:"90%",lineHeight:1,margin:"auto",textAlign:"center",textShadow:"1px 1px 2px black"},children:e.question})}),Object(x.jsx)("section",{className:"answerSection",style:{display:"flex",justifyContent:"space-between",alignContent:"center",flexWrap:"wrap",width:"99%",overflow:"visible"},children:e.answers.map((function(t,n){return Object(x.jsxs)("label",{className:"option_item",style:{width:"49%",minHeight:"22%",maxHeight:"200px",maxWidth:"200px"},children:[Object(x.jsx)("input",{type:"checkbox",className:"checkOut",id:"answer_"+n,value:n,onChange:function(t){return function(t){if(1===e.type){for(var n=0;n<e.answers.length;n++)document.querySelector("#answer_"+n).checked=!1;document.querySelector("#"+t.target.id).checked=!0}for(var c=[],a=0;a<e.answers.length;a++)!0===document.querySelector("#answer_"+a).checked&&c.push(a);e.onChange(c)}(t)}},"inputBox"+n),Object(x.jsxs)("div",{className:"option_inner",style:{backgroundImage:"url(".concat(t.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},children:[Object(x.jsx)("div",{className:"tickmark",children:" "},"divBox"+n),Object(x.jsx)("div",{className:"name",style:{width:"13ch"},children:t.text},"div2Box"+n)]})]},"labelBox"+n)}))})]})})});function B(e){return Object(x.jsx)("div",{style:{width:"100vw",height:"100vh",position:"absolute",top:window.pageYOffset,left:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:"1900",backgroundColor:"rgba(105,105,105, .7)"},children:Object(x.jsxs)("div",{style:{margin:"auto",maxWidth:"600px",border:"1px solid gray",borderRadius:".25rem",padding:"2%",display:"flex"},children:[Object(x.jsx)("img",{src:e.img,style:{width:"100%",visibility:"visible"},alt:"zooming in"}),Object(x.jsx)("div",{className:"closeTag",style:{position:"relative",top:"2%",right:"4%",visibility:"visible"},onClick:function(t){e.closeModal(!0)},children:Object(x.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(1.2vw,12px)",height:"max(1.2vw,12px)"}})})]})})}n(97);var M=function(e){var t=Object(c.useState)(!1),n=Object(b.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){for(var t=0;t<e.answers.length;t++)document.querySelector("#answer_"+t).checked=!1,e.checkedMarks.indexOf(t)>=0&&(document.querySelector("#answer_"+t).checked=!0)}),[e.answers]),Object(x.jsxs)("div",{id:"questionContainerSimple",style:{opacity:e.vis},children:[a&&Object(x.jsx)(B,{img:e.info.img,closeModal:function(e){s(!1)}}),Object(x.jsxs)("section",{className:"questionSection",style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap",width:"98%",overflow:"hidden"},children:[Object(x.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",height:window.innerWidth<700?"30%":"70%"},children:Object(x.jsx)("img",{src:e.info.img,style:{height:"100%",alignSelf:"center"},alt:e.info.img,onClick:function(e){s(!0)}})}),Object(x.jsx)("div",{style:{width:"100%",height:window.innerWidth<700?"70%":"30%"},children:Object(x.jsx)(D.a,{max:256,mode:"multi",min:12,style:{color:"white",minHeight:"90%",maxHeight:"90%",minWidth:"90%",maxWidth:"90%",lineHeight:1,margin:"auto",textAlign:"center",textShadow:"1px 1px 2px black"},children:e.question})})]}),Object(x.jsx)("section",{className:"answerSection",style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap",width:"98%",overflow:"visible"},children:e.answers.map((function(t,n){return Object(x.jsxs)("label",{className:"option_simple",style:{height:"".concat(93/e.answers.length,"%")},children:[Object(x.jsx)("input",{type:"checkbox",className:"checkOut",id:"answer_"+n,value:n,onChange:function(t){return function(t){if(1===e.info.correct){for(var n=0;n<e.answers.length;n++)document.querySelector("#answer_"+n).checked=!1;document.querySelector("#"+t.target.id).checked=!0}for(var c=[],a=0;a<e.answers.length;a++)!0===document.querySelector("#answer_"+a).checked&&c.push(a);e.onChange(c)}(t)}},"inputSimple"+n),Object(x.jsx)("div",{className:"option_inner",children:Object(x.jsx)(D.a,{className:"name",max:256,mode:"multi",min:10,style:{minHeight:"90%",maxHeight:"90%",minWidth:"90%",maxWidth:"90%",lineHeight:1,textAlign:"center",textShadow:"1px 1px 2px black"},children:t.text},"spanSimple"+n)},"divSimple"+n)]},"labelSimple"+n)}))})]})},H=function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){var t=e.background.length>0?"url(".concat(e.background,")"):"",n=e.gradient.length>0?" ".concat(e.gradient):"",c=e.background.length>0&&e.gradient.length>0?",":"";s(n+c+t),console.log(e.question)}),[]),Object(x.jsxs)("div",{id:"questionDisplayContainer",className:"".concat("test"===e.status?"noScroll":""),style:{backgroundImage:a},children:["box"===e.info.layout?Object(x.jsx)(_,{type:e.info.correct,vis:e.vis,question:e.question,answers:e.answers,checkedMarks:e.checkedMarks,onChange:function(t){e.onChange(t)}}):Object(x.jsx)("div",{style:{display:"none"}}),"simple"===e.info.layout?Object(x.jsx)(M,{info:e.info,vis:e.vis,question:e.question,answers:e.answers,checkedMarks:e.checkedMarks,onChange:function(t){e.onChange(t)}}):Object(x.jsx)("div",{style:{display:"none"}})]})};var Y=function(e){var t=m.firestore(),n=Object(c.useState)([]),a=Object(b.a)(n,2),s=a[0],r=a[1];return Object(c.useEffect)((function(){var n=[];(function(){var c=Object(d.a)(u.a.mark((function c(){return u.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t.collection("results").where("testId","==",e.testId).get().then((function(e){e.forEach((function(e){n.push(e.data())})),n.sort((function(e,t){return t.result===e.result?t.time-e.time:t.result-e.result})),r(n)}));case 1:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}})()(),console.log(s)}),[]),Object(x.jsx)("div",{style:{width:"60vw",maxHeight:"20vh",overflow:"auto",textAlign:"center",justifyContent:"center",borderRadius:"10px",backgroundImage:"linear-gradient(90deg, transparent 0%, transparent 8%,rgba(90, 90, 90,0.05) 8%, rgba(90, 90, 90,0.05) 21%,transparent 21%, transparent 100%),linear-gradient(45deg, transparent 0%, transparent 23%,rgba(90, 90, 90,0.05) 23%, rgba(90, 90, 90,0.05) 37%,transparent 37%, transparent 100%),linear-gradient(0deg, transparent 0%, transparent 37%,rgba(90, 90, 90,0.05) 37%, rgba(90, 90, 90,0.05) 49%,transparent 49%, transparent 100%),linear-gradient(90deg, rgb(255,255,255),rgb(255,255,255))"},children:Object(x.jsxs)("table",{style:{margin:"auto"},children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Result"}),Object(x.jsx)("th",{children:"Time Left"})]}),Object(x.jsx)("tbody",{children:s&&s.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:e.displayName},"name"+t),Object(x.jsx)("td",{children:e.result},"result"+t),Object(x.jsx)("td",{children:e.time},"time"+t)]},t)}))})]})})},Q=(n(98),n(121)),G=n(122),J=n(123),V=n(124),K=n(125),X=n(126),Z=n(127),$=n(128);var ee=function(e){var t={"&:hover > svg":{height:"50px !important",width:"50px !important"}};return Object(x.jsxs)("div",{children:[Object(x.jsx)(Q.a,{url:e.url,quote:e.title+"\n"+e.quote,hashtag:e.hashtag,className:t,children:Object(x.jsx)(G.a,{size:36,round:!0})}),Object(x.jsx)(J.a,{url:e.url,title:e.title+"\n"+e.quote,hashtag:e.hashtag,className:t,children:Object(x.jsx)(V.a,{size:36,round:!0})}),Object(x.jsx)(K.a,{url:e.url,title:e.title+"\n"+e.quote,separator:":: ",className:t,children:Object(x.jsx)(X.a,{size:36,round:!0})}),Object(x.jsx)(Z.a,{url:e.url,subject:e.title,body:e.quote+"\n",media:e.image,className:t,children:Object(x.jsx)($.a,{size:36,round:!0})})]})},te=function(e){var t=O().currentUser,n=Object(c.useState)(t?t.displayName:""),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useRef)(t?t.uid:"");function o(){window.location.assign("/test-editor/#/redirect"),console.log("redirect to /")}function l(e){var t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])}return Object(x.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",width:"100%",marginTop:"15%",alignContent:"center",justifyContent:"center",color:"black",textShadow:"1px 1px #f5d142",backgroundImage:"linear-gradient(90deg, transparent 0%, transparent 8%,rgba(90, 90, 90,0.05) 8%, rgba(90, 90, 90,0.05) 21%,transparent 21%, transparent 100%),linear-gradient(45deg, transparent 0%, transparent 23%,rgba(90, 90, 90,0.05) 23%, rgba(90, 90, 90,0.05) 37%,transparent 37%, transparent 100%),linear-gradient(0deg, transparent 0%, transparent 37%,rgba(90, 90, 90,0.05) 37%, rgba(90, 90, 90,0.05) 49%,transparent 49%, transparent 100%),linear-gradient(90deg, rgb(255,255,255),rgb(255,255,255))",backgroundSize:"100% 100%"},children:[e.testId.length>0&&Object(x.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"Top results"}),e.testId.length>0&&Object(x.jsx)(Y,{testId:e.testId}),Object(x.jsxs)("h3",{style:{width:"100%",textAlign:"center"},children:["You have ",e.rate,"% ",l(e.time),"sec left"]}),Object(x.jsx)("div",{style:{width:"60vw",maxHeight:"20vh",overflow:"auto",textAlign:"center",justifyContent:"center",borderRadius:"10px"},children:Object(x.jsxs)("table",{style:{margin:"auto"},children:[Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Question"}),Object(x.jsx)("th",{children:"Result"})]}),e.res.map((function(e,t){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:t+1},"num"+t),Object(x.jsx)("td",{children:e?Object(x.jsx)("span",{children:"\u2705"}):Object(x.jsx)("span",{children:"\u274c"})},"correct"+t)]},"n"+t)}))]})}),e.testId.length>0&&Object(x.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"Would you like to save results?"}),i.current.length<=0&&Object(x.jsxs)("label",{className:"headerStyle",style:{width:"100%",textAlign:"center"},children:["Enter your display Name. You are not in our database",Object(x.jsx)("input",{id:"testName",style:{marginLeft:"10px"},onChange:function(e){return r(e.target.value)}})]}),e.testId.length>0&&Object(x.jsx)("button",{className:"testNav",style:{margin:"5px"},onClick:function(t){m.firestore().collection("results").add({testId:e.testId,displayName:s,userId:i.current,result:e.rate,time:l(e.time)}).then((function(e){o()})).catch((function(e){console.log("fail to record result")}))},children:"Yes, Please do!"}),e.testId.length>0&&Object(x.jsx)("button",{className:"testNav",style:{margin:"5px"},onClick:function(e){return o()},children:"No, Thank you!"}),Object(x.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:e.testId.length<=0&&Object(x.jsx)("button",{className:"testNav",style:{margin:"5px"},onClick:function(e){return o()},children:"Come Back!"})}),e.testId.length>0&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"To share results click below"}),Object(x.jsx)(ee,{title:"I just complete the ".concat(e.testName," at Quiz Land site"),url:"https://sbolotnikov.github.io/test-editor/#/taketest/"+e.testId,quote:"I got ".concat(e.rate,"% correct with ").concat(l(e.time)," seconds left. \n Could you beat me? \n Click on the link below. Good luck! \n"),hashtag:"#QuizLand ",image:"/test-editor/icons/QuizLogo.svg",description:"My score was ... And ... seconds left. Could you beat me?"})]})]})};n(99);var ne=function(e){var t=[parseInt(e.test.main.hours),parseInt(e.test.main.minutes),parseInt(e.test.main.seconds)],n=e.test.main.background,a=e.test.test,s=[],r=[],i=Object(c.useState)(0),o=Object(b.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)(""),j=Object(b.a)(d,2),h=j[0],g=j[1],m=Object(c.useState)([]),f=Object(b.a)(m,2),O=f[0],p=f[1],v=Object(c.useState)([]),y=Object(b.a)(v,2),w=y[0],N=y[1],S=Object(c.useState)(0),k=Object(b.a)(S,2),C=k[0],q=k[1],I=Object(c.useState)(0),P=Object(b.a)(I,2),A=P[0],E=P[1],L=Object(c.useState)(""),z=Object(b.a)(L,2),U=z[0],F=z[1];function R(e){for(var t=[],n=e.length,c=0,a=0;a<n;a++)c=Math.floor(Math.random()*e.length),t.push(e[c]),e.splice(c,1);return t}function W(e,t){for(var n=[],c=0,a=0;a<t;a++)c=Math.floor(Math.random()*e.length),n.push(e[c]),e.splice(c,1);return n}function D(e){var t=[],n=0;console.log(e);var c=function(){for(var e=[],t=[],n=0;n<U.length;n++){t=[];for(var c=0;c<U[n].answers.length;c++)!0===U[n].answers[c].choice&&t.push(c);e.push(t)}return e}();E(0);for(var a=0;a<c.length;a++)JSON.stringify(c[a])===JSON.stringify(O[a])?t.push(!0):t.push(!1),!0===t[a]&&(n+=1);console.log((n/c.length*100).toFixed(2).toString()),q((n/c.length*100).toFixed(2)),N(t),g(e),console.log(w)}return Object(c.useEffect)((function(){console.log(e.test.id);for(var t=[],n=0;n<a.length;n++)t=R(t=W(a[n].rights,a[n].info.correct).concat(W(a[n].wrongs,a[n].info.positions-a[n].info.correct))),s.push({info:a[n].info,question:a[n].question,answers:t}),r.splice(0,0,[]);p(r),F(s)}),[]),Object(c.useEffect)((function(){w.length>0?document.querySelector("nav.navbar").style.display="flex":document.querySelector("nav.navbar").style.display="none"}),[w]),Object(x.jsxs)(x.Fragment,{children:[w.length>0&&Object(x.jsx)(te,{res:w,rate:C,time:h,background:n,testName:e.test.main.name,testId:e.local?"":e.test.id}),U&&w.length<=0&&Object(x.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"10%"},children:Object(x.jsx)(T,{qNumber:U.length,hours:t[0],minutes:t[1],seconds:t[2],onExit:function(e){D(e)},onChange:function(e){!function(e){e>0?u(e-1):(u(e),E(1))}(e)}})}),U&&w.length<=0&&Object(x.jsx)(H,{background:n,gradient:e.test.main.gradient,status:"test",info:U[l].info,vis:A,question:U[l].question,answers:U[l].answers,checkedMarks:O[l],onChange:function(e){!function(e){var t=O;t.splice(l,1,e),console.log(t),p(t)}(e)}})]})};function ce(){var e=Object(c.useState)({}),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(b.a)(s,2),i=r[0],l=r[1],u=m.firestore(),d=Object(o.g)().id;return Object(c.useEffect)((function(){u.collection("tests").doc(d).get().then((function(e){a(Object(w.a)(Object(w.a)({},e.data()),{},{id:d})),l(!0)})).catch((function(e){console.log(e)}))}),[]),Object(x.jsx)(x.Fragment,{children:i&&Object(x.jsx)(ne,{test:n,local:!1})})}n(100);var ae=function(e){var t=Object(c.useState)(!0),n=Object(b.a)(t,2),a=n[0],s=n[1],r=O().currentUser,o=Object(c.useState)(""),l=Object(b.a)(o,2),u=l[0],d=l[1];function j(){s(!a)}return Object(c.useEffect)((function(){var e="/test-editor/icons/defaultUser.svg";r&&r.photoURL>""?d(r.photoURL):d(e)}),[r]),Object(c.useEffect)((function(){window.innerWidth<1e3&&(document.querySelector("#navbarNav").style.display=a?"none":"block")}),[a]),Object(c.useEffect)((function(){window.innerWidth>=1e3?(document.querySelector("#navbarNav").style.display="flex",document.querySelector("#navbarNav").style.justifyContent="center",document.querySelector("#navbarNav").style.width="83%"):document.querySelector("#navbarNav").style.display="none"}),[window.innerWidth]),Object(x.jsxs)("nav",{className:"navbar",children:[window.innerWidth<1e3?Object(x.jsx)(i.b,{to:"/dashboard",children:Object(x.jsx)("img",{className:"member-photo",src:u,alt:"avatar"})}):Object(x.jsxs)(i.b,{to:"/",className:"navHeader",children:[" ",Object(x.jsx)("img",{src:"/test-editor/icons/logoName.svg",alt:"close",style:{width:"1.2em",height:"1.5em"}})]}),window.innerWidth<1e3?Object(x.jsx)(i.b,{to:"/",className:"navHeader",children:"Quiz Land"}):null,window.innerWidth<1e3?Object(x.jsx)("span",{id:"navbar-toggler",onClick:j,children:Object(x.jsx)("div",{style:{width:"1em",height:"1em",float:"center"},children:a?Object(x.jsx)("img",{src:"/test-editor/icons/burger.svg",alt:"open"}):Object(x.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close"})})}):null,Object(x.jsxs)("ul",{id:"navbarNav",children:[!r&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(i.b,{to:"/login",className:"nav-link",onClick:function(e){return j()},children:"Log In"})}),!r&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(i.b,{to:"/signup",className:"nav-link",onClick:function(e){return j()},children:"Sign Up"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(i.b,{to:"/",className:"nav-link",onClick:function(e){return j()},children:"Take tests"})}),r&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(i.b,{to:"/create",className:"nav-link",onClick:function(e){return j()},children:"Manage tests"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(i.b,{to:"/about",className:"nav-link",onClick:function(e){return j()},children:"About"})}),r&&Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(i.b,{to:"/logout",className:"nav-link",onClick:function(e){return j()},children:"Logout"})})]}),window.innerWidth<1e3?null:Object(x.jsx)(i.b,{to:"/dashboard",children:Object(x.jsx)("img",{className:"member-photo",src:u,alt:"member avatar"})})]})},se=(n(101),function(e){return Object(c.useEffect)((function(){for(var t=0;t<e.answers.length;t++)document.querySelector("#category_"+t).checked=!1,e.checkedMarks.indexOf(t)>=0&&(document.querySelector("#category_"+t).checked=!0);console.log(e.answers)}),[]),Object(x.jsx)(c.Fragment,{children:Object(x.jsx)("section",{className:"categoriesSection",children:e.answers.map((function(t,n){return Object(x.jsxs)("label",{className:"option_item",style:{width:"47%",maxHeight:"150px",maxWidth:"180px",margin:"5px"},children:[Object(x.jsx)("input",{type:"checkbox",className:"checkOut",id:"category_"+n,value:n,onChange:function(t){return function(t){if(1===e.type){for(var n=0;n<e.answers.length;n++)document.querySelector("#category_"+n).checked=!1;document.querySelector("#"+t.target.id).checked=!0}for(var c=[],a=0;a<e.answers.length;a++)!0===document.querySelector("#category_"+a).checked&&c.push(a);e.onChange(c)}(t)}},"inputCat"+n),Object(x.jsxs)("div",{className:"option_inner",style:{backgroundImage:"url(".concat(t.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"25% 25%",backgroundPosition:"right top"},children:[Object(x.jsx)("div",{className:"tickmark",children:" "},"divCat"+n),Object(x.jsx)("div",{className:"name2",style:{width:"13ch"},children:t.text},"div2Cat"+n)]})]},"labelCat"+n)}))})})});function re(e){return Object(x.jsx)("div",{style:{width:"100vw",height:"100vh",position:"absolute",top:window.pageYOffset,left:0,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(x.jsxs)("div",{className:"alertContainer",children:[Object(x.jsx)("h3",{className:"alertItemStyle",children:Object(x.jsx)("strong",{children:e.test.name})}),Object(x.jsxs)("p",{className:"alertItemStyle",children:[Object(x.jsx)("strong",{children:"Author:"})," ",e.test.author]}),Object(x.jsxs)("p",{className:"alertItemStyle",children:[Object(x.jsx)("strong",{children:"Description:"})," ",e.test.description]}),Object(x.jsxs)("p",{className:"alertItemStyle",children:[Object(x.jsx)("strong",{children:"Question amount:"})," ",e.test.questionsTotal]}),Object(x.jsx)("button",{className:"alertItemStyle",style:{backgroundColor:"#d1ecf1",color:"#0c5460"},onClick:function(t){console.log("click"),e.onRes("")},children:"Close"})]})})}var ie=function(e){var t=m.firestore(),n=O().currentUser,a=Object(c.useState)([]),s=Object(b.a)(a,2),r=s[0],o=s[1],l=Object(c.useState)([]),j=Object(b.a)(l,2),h=j[0],g=j[1],f=Object(c.useState)(!1),p=Object(b.a)(f,2),v=p[0],y=p[1],N=Object(c.useState)(!1),S=Object(b.a)(N,2),k=S[0],C=S[1],q=Object(c.useState)({}),I=Object(b.a)(q,2),P=I[0],A=I[1],E=Object(c.useState)(!1),L=Object(b.a)(E,2),z=L[0],U=L[1],F=Object(c.useState)(null),T=Object(b.a)(F,2),W=T[0],D=T[1],_=Object(c.useState)([]),B=Object(b.a)(_,2),M=B[0],H=B[1],Y=Object(c.useState)([]),Q=Object(b.a)(Y,2),G=Q[0],J=Q[1],V=Object(c.useState)([]),K=Object(b.a)(V,2),X=K[0],Z=K[1],$=Object(c.useState)({}),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(!1),ae=Object(b.a)(ce,2),ie=ae[0],oe=ae[1],le=Object(c.useState)({}),ue=Object(b.a)(le,2),de=ue[0],be=ue[1],je=function(){var n=Object(d.a)(u.a.mark((function n(){var c,a;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=[],n.next=3,t.collection("tests").get();case 3:a=n.sent,(c="create"===e.forPage?a.docs.map((function(e){return Object(w.a)(Object(w.a)({},e.data()),{},{id:e.id})})).filter((function(t){return t.main.author===e.user||"Yes"===t.main.editability})):a.docs.map((function(e){return Object(w.a)(Object(w.a)({},e.data()),{},{id:e.id})})).filter((function(t){return t.main.author===e.user||"Public"===t.main.visibility}))).sort((function(e,t){var n=e.main.name.toUpperCase(),c=t.main.name.toUpperCase();return n<c?-1:n>c?1:0})),console.log(c),o(c),g(c);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),he=function(){var e=Object(d.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection("categories").get();case 2:n=e.sent,(c=n.docs.map((function(e){return Object(w.a)({},e.data())}))).sort((function(e,t){var n=e.label.toUpperCase(),c=t.label.toUpperCase();return n<c?-1:n>c?1:0})),H(c),c=c.map((function(e){return{text:e.value,img:"/test-editor/icons/QuizLogo.svg"}})),console.log(c),J(c);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){he(),je()}),[]),Object(c.useEffect)((function(){var e=r,t=[];if(console.log(W),W)for(var n=function(n){for(var c=[],a=0;a<e.length;a++)e[a].main.categories.findIndex((function(e){return e.value===W[n].value}))>-1&&c.push(e[a]);t=t.concat(c)},c=0;c<W.length;c++)n(c);t=t.filter((function(e,n){return t.map((function(e){return e.id})).indexOf(e.id)===n})),g(t)}),[W]),Object(x.jsxs)("div",{style:{width:"100%",maxWidth:"600px",height:"52vh",margin:"6em 0 2em 0"},children:[k&&Object(x.jsx)(re,{test:de,onRes:function(e){C(!1),console.log("close")}}),"test"===e.forPage&&n&&Object(x.jsx)("button",{className:"testNav",style:{width:"100%",margin:0},onClick:function(e){window.location.assign("/test-editor/#/create")},children:"Create New test"}),Object(x.jsxs)("p",{className:"testNav",style:{backgroundColor:"transparent",textAlign:"center"},children:[" CHOOSE TEST TO ","test"===e.forPage?"TAKE":"MANAGE"]}),G&&Object(x.jsx)(se,{type:G.length,answers:G,checkedMarks:X,onChange:function(e){!function(e){Z(e),e.length>0?D(M.filter((function(t,n){return e.indexOf(n)>-1}))):D(M)}(e)}}),Object(x.jsx)("p",{className:"testNav",style:{backgroundColor:"transparent",textAlign:"center"},children:"DISCOVER TESTS"}),h&&Object(x.jsx)("div",{style:{height:"35%",overflow:"auto",margin:"0"},children:Object(x.jsx)("table",{style:{width:"100%"},children:Object(x.jsx)("tbody",{children:h.map((function(t,n){return Object(x.jsxs)("tr",{children:["create"===e.forPage&&Object(x.jsx)("td",{children:Object(x.jsxs)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",padding:"4%",backgroundColor:"#721c24",margin:"4%",display:"flex",flexDirection:"column",alignItems:"center"},value:t.id,onClick:function(e){return function(e){var t=e.target.getAttribute("value");U(t);var n=r.map((function(e){return e.id})).indexOf(t),c=r[n];A({variantHead:"danger",heading:"Warning",text:"Do you really want to delete \n ".concat(c.main.name," \n by  \n ").concat(c.main.authorName),color1:"danger",button1:"Delete",color2:"secondary",button2:"Cancel"}),y(!0)}(e)},children:["Del ",Object(x.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(.9vw,10px)",height:"max(.9vw,10px)"}})]},"eraseBtnTests"+n)}),Object(x.jsx)("td",{style:{backgroundColor:"white",borderRadius:"5px"},children:Object(x.jsxs)("div",{className:"testText",value:t.id,onClick:function(e){return function(e){console.log(e.clientY);var t=r.filter((function(t){return t.id===e.target.getAttribute("value")}))[0];be({author:t.main.authorName,description:t.main.description,name:t.main.name,questionsTotal:t.test.length,positionY:e.clientY+5}),C(!0)}(e)},style:{cursor:"pointer",whiteSpace:"wrap",textAlign:"center",border:0,width:"100%"},children:[t.main.name," ",Object(x.jsxs)("span",{value:t.id,style:{fontStyle:"oblique",color:"#554FA7"},children:["@",t.main.authorName]})]},"textTests"+n)}),Object(x.jsx)("td",{children:Object(x.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",padding:"4%",backgroundColor:"white",color:"#554FA7"},value:t.id,onClick:function(t){return function(t){console.log(t.target.getAttribute("value")),"create"===e.forPage?(A({variantHead:"danger",heading:"Warning",text:"Did you safe your changes? Your current changes will be lost. Proceed?",color1:"danger",button1:"Proceed",color2:"secondary",button2:"Cancel"}),y(!0),ne(r.filter((function(e){return e.id===t.target.getAttribute("value")}))[0])):e.onChange(r.filter((function(e){return e.id===t.target.getAttribute("value")}))[0])}(t)},children:Object(x.jsx)("img",{src:"create"===e.forPage?"/test-editor/icons/EditIcon.svg":"/test-editor/icons/Play.svg",value:t.id,alt:"create"===e.forPage?"Edit":"Play",style:{width:"max(3.5vw,25px)",height:"max(3.5vw,25px)"}})},"playBtnTests"+n)})]},"divTests"+n)}))})})}),"create"===e.forPage&&Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",id:"checkEditLocalTest",style:{margin:"5% 2% 0 2%"},onChange:function(e){return oe(document.querySelector("#checkEditLocalTest").checked)}}),"Load local test from your disk",ie&&Object(x.jsx)("input",{type:"file",id:"fileinput",onChange:function(t){return function(t){var n=t.target.files[0];if(n){var c=new FileReader;c.onload=function(t){ne(JSON.parse(t.target.result)),"create"===e.forPage?(A({variantHead:"danger",heading:"Warning",text:"Did you safe your changes? Your current changes will be lost. Proceed?",color1:"danger",button1:"Proceed",color2:"secondary",button2:"Cancel"}),y(!0)):(e.onChange(JSON.parse(t.target.result)),e.onLocal(!0))},c.readAsText(n)}else alert("Failed to load file")}(t)}})]}),v&&Object(x.jsx)(R,{onReturn:function(n){y(!1),"Delete"===n&&t.collection("tests").doc(z).delete().then((function(t){console.log("deleted"),e.reloadNeeded(!0)})).catch((function(e){console.log("can not delete a record")})),"Proceed"===n&&(e.onChange(te),e.onLocal(!1))},styling:P}),"test"===e.forPage&&Object(x.jsxs)("div",{className:"divStyle",children:["Want a demo? ",Object(x.jsx)(i.b,{className:"links",to:"/taketest/RtqxyubO57LToxbaOzpj",children:"Take Demo Test"})]})]})};n(102);var oe=function(){var e=Object(c.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(b.a)(s,2),i=r[0],o=r[1],l=O().currentUser;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"testContainer",children:[!n&&Object(x.jsx)(ie,{user:l?l.uid:"",forPage:"test",onLocal:function(e){return o(e)},onChange:function(e){return function(e){console.log(e),a(e)}(e)}}),n&&Object(x.jsx)(ne,{test:n,local:i}),!n&&Object(x.jsx)(v,{})]})})},le=n(34);var ue=function(e){var t=Object(c.useState)(e.answer.text),n=Object(b.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(e.answer.img),i=Object(b.a)(r,2),o=i[0],l=i[1],u=Object(c.useState)(),d=Object(b.a)(u,2),j=d[0],h=d[1];function g(t,n){var c={text:t,img:n,num:e.num};e.onChange(c)}return Object(c.useEffect)((function(){s(e.answer.text),e.answer.img.length>0?(h(!0),document.querySelector("#check_"+e.num+e.cor).checked=!0,l(e.answer.img)):(document.querySelector("#check_"+e.num+e.cor).checked=!1,h(!1))}),[e.answer]),Object(x.jsxs)("div",{children:[Object(x.jsx)("textarea",{style:{width:"100%",borderRadius:".25rem",borderColor:"lightgray"},value:a,onChange:function(e){return function(e){s(e.target.value),g(e.target.value,o)}(e)}}),Object(x.jsxs)("label",{style:{color:"black",width:"100%"},children:[Object(x.jsx)("input",{type:"checkbox",id:"check_"+e.num+e.cor,onChange:function(t){return h(document.querySelector("#check_"+e.num+e.cor).checked)}}),"check to add image link"]}),j&&Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"text",style:{width:"100%",opacity:j,borderRadius:".25rem",borderColor:"lightgray"},value:o,onChange:function(e){return function(e){l(e.target.value),console.log(o),g(a,e.target.value)}(e)}}),Object(x.jsx)(z,{style:{width:"200px",objectFit:"cover",margin:"10px"},getImgUrl:function(e){document.querySelector("#mainImg").value=e,l(e),g(a,e)}}),Object(x.jsx)("img",{src:o,style:{width:"19%"},alt:"thumbnail"})]})]})};var de=function(e){var t=Object(c.useState)([]),n=Object(b.a)(t,2),a=n[0],s=n[1];return Object(c.useEffect)((function(){s(e.answers)}),[e.answers]),Object(x.jsx)("div",{style:{display:"flex",alignItems:"start",justifyContent:"start",marginBottom:"4vh"},children:Object(x.jsx)("div",{style:{width:"85%"},children:Object(x.jsxs)("div",{children:[a&&a.map((function(t,n){return Object(x.jsxs)("div",{style:{position:"relative",margin:"5px"},children:[Object(x.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",float:"right",margin:0},value:n,onClick:function(t){return function(t){e.onDelete(t.target.value)}(t)},children:Object(x.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(1.2vw,12px)",height:"max(1.2vw,12px)"}})},e.correct?"right_eraseBtn_":"wrong_eraseBtn_"+n),Object(x.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",float:"right",margin:0},value:n,onClick:function(t){return function(t){e.onCopy(t.target.value)}(t)},children:"\ud83d\udcd1Copy"},e.correct?"right_copyBtn_":"wrong_copyBtn_"+n),Object(x.jsx)(ue,{cor:e.correct?"right":"wrong",num:n,answer:t,onDelete:function(e){return e.target.value},onNew:function(e){return e.target.value},onChange:function(t){return function(t){var n=e.answers;if(""===t.text&&""===t.img)n.splice(t.num,1);else{var c={text:t.text,img:t.img,choice:e.correct};n.splice(t.num,1,c)}e.onChange(n)}(t)}},e.correct?"right_text"+n:"wrong_text"+n)]},e.correct?"right"+n:"wrong"+n)})),Object(x.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:0},onClick:function(t){!function(){var t=JSON.parse(localStorage.getItem("answerCopy"));null!==t&&(t.choice=e.correct,e.onNew(t))}()},children:"\ud83d\udccbPaste"}),Object(x.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:0},onClick:function(t){!function(){var t={text:"",img:"",choice:e.correct};e.onNew(t)}()},children:"New \u2795"})]})})})};var be=function(e){var t={},n=Object(c.useState)([]),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)([]),o=Object(b.a)(i,2),l=o[0],u=o[1];function d(n,c){c?t.rights=n:t.wrongs=n,e.onChange(t)}function j(n,c){t=c?e.q.rights[n]:e.q.wrongs[n],localStorage.setItem("answerCopy",JSON.stringify(t))}function h(n,c){c?(t=e.q.rights).push({text:n.text,img:n.img,choice:!0}):(t=e.q.wrongs).push({text:n.text,img:n.img,choice:!1}),e.onChange(t)}function g(n,c){c?(t=e.q.rights).splice(n,1):(t=e.q.wrongs).splice(n,1),e.onChange(t)}return Object(c.useEffect)((function(){document.querySelector("#question").value=e.q.question,document.querySelector("#mainImg").value=e.q.info.img,document.querySelector("#positionsCount").value=e.q.info.positions,document.querySelector("#correctCount").value=e.q.info.correct,document.querySelector("#layout1").value=e.q.info.layout,r(e.q.rights),u(e.q.wrongs)}),[e.q]),Object(x.jsxs)(c.Fragment,{children:[Object(x.jsxs)("label",{className:"headerStyle",children:["Enter your question",Object(x.jsx)("textarea",{id:"question",onChange:function(t){e.onChange({question:t.target.value})}})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{className:"headerStyle",children:["Add your question main picture link (if you have one)",Object(x.jsx)("input",{id:"mainImg",onChange:function(t){e.onChange({mainImg:t.target.value})}})]}),Object(x.jsx)(z,{getImgUrl:function(t){document.querySelector("#mainImg").value=t,e.onChange({mainImg:t})}}),Object(x.jsxs)("label",{className:"headerStyle",children:["Choose question layout",Object(x.jsx)("select",{id:"layout1",onChange:function(t){e.onChange({layout1:t.target.value})},children:["simple","box"].map((function(e,t){return Object(x.jsx)("option",{value:e,children:e},"layout_option"+t)}))})]}),Object(x.jsxs)("div",{className:"containerGrid",children:[Object(x.jsx)("section",{className:"panel1",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{id:"positionsCount",type:"number",min:0,max:s.length+l.length,onChange:function(t){e.onChange({positionsCount:t.target.value})}}),"How many positions would be displayed?(Maximum should be less then answers options)"]})}),Object(x.jsx)("section",{className:"panel2",children:Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{id:"correctCount",type:"number",min:0,max:s.length,onChange:function(t){e.onChange({correctCount:t.target.value})}}),"How many correct options should be selected?(Maximum should be less then correct answers options)"]})})]}),Object(x.jsxs)("div",{className:"containerGrid",children:[Object(x.jsxs)("section",{className:"panel2",children:[Object(x.jsx)("label",{className:"headerStyle",style:{color:"green"},children:Object(x.jsx)("strong",{children:"Enter text of the correct answers:"})}),s&&Object(x.jsx)(de,{answers:s,correct:!0,onDelete:function(e){return g(e,1)},onNew:function(e){return h(e,1)},onChange:function(e){return d(e,1)},onCopy:function(e){return j(e,1)}})]}),Object(x.jsxs)("section",{className:"panel1",children:[Object(x.jsx)("label",{className:"headerStyle",style:{color:"red"},children:Object(x.jsx)("strong",{children:"Enter text of the wrong answers:"})}),l&&Object(x.jsx)(de,{answers:l,correct:!1,onDelete:function(e){return g(e,0)},onNew:function(e){return h(e,0)},onChange:function(e){return d(e,0)},onCopy:function(e){return j(e,0)}})]})]})]})};n(103);var je=function(e){var t=Object(c.useState)(""),n=Object(b.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(!1),i=Object(b.a)(r,2),o=i[0],l=i[1];function u(t){var n=document.querySelector("#questionPage");Number.isInteger(t)?(1===t&&(""===n.value?n.value=1:parseInt(n.value)<e.qNumber?n.value=parseInt(n.value)+1:n.value=1),-1===t&&(""===n.value?n.value=e.qNumber:parseInt(n.value)>1?n.value-=1:n.value=e.qNumber)):"0"===t?(document.querySelectorAll(".testNav").forEach((function(e){e.classList.remove("invisible")})),document.querySelector("#startNav").classList.add("invisible"),n.value=1):n.value=t;"0"===t?e.onChange(0):e.onChange(parseInt(n.value))}return Object(c.useEffect)((function(){document.getElementById("questionPage").value=1}),[]),Object(c.useEffect)((function(){for(var t=[],n=0;n<e.qNumber;n++)t.push(n+1);s(t)}),[e.qNumber]),Object(x.jsxs)("div",{className:"navContainer",style:{marginTop:"2%"},children:[Object(x.jsx)("h3",{style:{width:"100%",textAlign:"center",fontSize:"4vw",color:"#FFFFFF"},children:Object(x.jsx)("strong",{children:"Question editing panel"})}),Object(x.jsx)("button",{className:"testNav",onClick:function(e){u("1")},children:"\u23ee"}),Object(x.jsx)("button",{className:"testNav",onClick:function(e){u(-1)},children:"\u23eaBack"}),Object(x.jsx)("input",{className:"testNavLight text-center",style:{width:"3ch"},type:"number",id:"questionPage",min:"1",max:e.qNumber.toString(),onClick:function(e){return u(e.target.value)}}),Object(x.jsx)("button",{className:"testNav",onClick:function(e){u(1)},children:"\u23e9Next"}),Object(x.jsx)("button",{className:"testNav",onClick:function(t){u(e.qNumber.toString())},children:"\u23ed"}),Object(x.jsx)("button",{className:"testNav",onClick:function(t){e.onNew(""),document.querySelector("#questionPage").value=(e.qNumber+1).toString()},children:"\u2795Add"}),Object(x.jsxs)("button",{className:"testNav",onClick:function(t){!function(){e.onDel("");var t=document.querySelector("#questionPage"),n="";parseInt(t.value)!==e.qNumber?(n=t.value,t.value=n):(n=t.value,t.value=(parseInt(n)-1).toString())}()},children:[Object(x.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(1.2vw,12px)",height:"max(1.2vw,12px)"}}),"Delete"]}),Object(x.jsx)("button",{className:"testNav",onClick:function(t){t.preventDefault(),e.onCopy("")},children:"\ud83d\udcd1Copy"}),Object(x.jsx)("button",{className:"testNav",onClick:function(t){t.preventDefault(),e.onPaste(""),document.querySelector("#questionPage").value=(parseInt(document.querySelector("#questionPage").value)+1).toString()},children:"\ud83d\udccbPaste"}),Object(x.jsx)("button",{className:"testNav",onClick:function(t){e.onShow("")},children:"\ud83d\udcf0Preview"}),e.qNumber>1&&Object(x.jsx)("button",{className:"testNav",onClick:function(e){o?document.querySelector("#moveSelect").classList.remove("invisible"):document.querySelector("#moveSelect").classList.add("invisible"),l(!o)},children:"\ud83d\udcf2Move to"}),e.qNumber>1&&a&&Object(x.jsx)("select",{id:"moveSelect",className:"testNavLight text-center invisible",onChange:function(t){e.onMove([parseInt(document.querySelector("#questionPage").value)-1,parseInt(t.target.value)]),document.querySelector("#questionPage").value=(parseInt(t.target.value)+1).toString()},children:a.map((function(e,t){return Object(x.jsx)("option",{value:t,children:a[t]},t)}))})]})};n(104);var he=function(e){var t=m.firestore(),n=Object(c.useState)(!1),a=Object(b.a)(n,2),s=a[0],r=a[1],i=Object(c.useState)({}),o=Object(b.a)(i,2),l=o[0],j=o[1],h=Object(c.useState)(!1),g=Object(b.a)(h,2),f=g[0],O=g[1],p=Object(c.useState)([]),v=Object(b.a)(p,2),y=v[0],N=v[1],S=Object(c.useState)(""),k=Object(b.a)(S,2),C=k[0],q=k[1],I=Object(c.useState)(""),P=Object(b.a)(I,2),A=P[0],E=P[1],L=Object(c.useState)(!1),z=Object(b.a)(L,2),U=z[0],F=z[1],T=function(){var e=Object(d.a)(u.a.mark((function e(){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collection("gradients").get();case 2:n=e.sent,c=n.docs.map((function(e){return Object(w.a)(Object(w.a)({},e.data()),{},{id:e.id})})),N(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){T()}),[]),Object(x.jsxs)("div",{style:{width:"100%",paddingLeft:"10px"},children:[" Pre-set gradients: for more visit ",Object(x.jsx)("a",{className:"btn",href:"https://www.gradientmagic.com/",target:"_blank",rel:"noopener noreferrer",children:"Gradient Magic"}),s&&Object(x.jsx)(R,{onReturn:function(e){r(!1),"Delete"===e&&t.collection("gradients").doc(f).delete().then((function(e){console.log("deleted"),N(y.filter((function(e){return e.id!==f})))})).catch((function(e){console.log("can not delete a record")}))},styling:l}),y&&y.map((function(t,n){return Object(x.jsxs)("div",{style:{display:"flex",margin:"5px"},children:[Object(x.jsxs)("div",{style:{cursor:"pointer",width:"50%",height:"50px",borderRadius:"10px",textShadow:"4px 4px 16px white",backgroundImage:t.value,backgroundSize:"cover"},value:t.id,onClick:function(t){return function(t){var n=y.filter((function(e){return e.id===t.target.getAttribute("value")}));e.onChange(n[0].value)}(t)},children:[t.name," "]},"gradient_name"+n),Object(x.jsxs)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:0,whiteSpace:"nowrap"},value:t.id,onClick:function(e){return function(e){var t=e.target.getAttribute("value");O(t);var n=y.map((function(e){return e.id})).indexOf(t);j({left:"0",top:"0",variantHead:"danger",heading:"Warning",text:"Do you really want to delete ".concat(y[n].name,"?"),color1:"danger",button1:"Delete",color2:"secondary",button2:"Cancel"}),r(!0)}(e)},children:["Del",Object(x.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(.9vw,10px)",height:"max(.9vw,10px)"}})]},"gradient_del_button"+n)]},"gradient_"+n)})),Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",id:"checkNewGradientAdd",onChange:function(e){return F(document.querySelector("#checkNewGradientAdd").checked)}}),"Add new background gradient CSS to our database of pre-set styles"]}),Object(x.jsxs)("div",{style:{display:U?"block":"none",width:"100%"},children:[Object(x.jsx)("label",{className:"headerStyle",children:"Enter gradient CSS"}),Object(x.jsx)("textarea",{id:"newBackgroundGradient",style:{width:"100%"},onChange:function(e){return q(e.target.value)}}),Object(x.jsx)("label",{className:"headerStyle",children:"Enter gradient name"}),Object(x.jsx)("input",{id:"newBackgroundGradient",style:{width:"100%"},onChange:function(e){return E(e.target.value)}}),Object(x.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:0,whiteSpace:"nowrap"},onClick:function(n){t.collection("gradients").add({name:A,value:C}).then((function(t){console.log("added"),e.reloadNeeded(!0)})).catch((function(e){console.log("can not delete a record")}))},children:"Add \ud83d\uddf8"})]})]})},ge=n(56),me={menu:function(e,t){return Object(w.a)(Object(w.a)({},e),{},{width:t.selectProps.width,borderBottom:"1px dotted pink",color:t.selectProps.menuColor,padding:20})},option:function(e,t){return Object(w.a)(Object(w.a)({},e),{},{borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:20})},control:function(e){return Object(w.a)(Object(w.a)({},e),{},{backgroundColor:"white"})},singleValue:function(e,t){var n=t.isDisabled?.5:1;return Object(w.a)(Object(w.a)({},e),{},{opacity:n,transition:"opacity 300ms"})}};var xe=function(e){var t=e.style,n=e.label,c=e.options,a=e.onChange,s=e.value,r=e.isMulti;return Object(x.jsxs)("div",{style:t,children:[n,Object(x.jsx)(ge.a,{styles:me,isMulti:r,closeMenuOnSelect:!0,isSearchable:!0,options:c,onChange:a,value:s})]})},fe=[],Oe={question:"",rights:[{text:"",img:"",choice:!0}],wrongs:[{text:"",img:"",choice:!1}],info:{positions:2,correct:1,layout:"",img:""}};var pe=function(){var e=[],t=O().currentUser,n=Object(c.useState)(""),a=Object(b.a)(n,2),s=a[0],r=a[1],o=Object(c.useState)(""),l=Object(b.a)(o,2),j=l[0],h=l[1],g=Object(c.useState)({authorId:"",name:"",testId:""}),f=Object(b.a)(g,2),p=f[0],v=f[1],y=Object(c.useState)(""),N=Object(b.a)(y,2),S=N[0],k=N[1],C=Object(c.useState)(""),q=Object(b.a)(C,2),I=q[0],P=q[1],A=Object(c.useState)(0),E=Object(b.a)(A,2),L=E[0],U=E[1],F=Object(c.useState)(""),T=Object(b.a)(F,2),W=T[0],D=T[1],_=Object(c.useState)(""),B=Object(b.a)(_,2),M=B[0],Y=B[1],Q=Object(c.useState)(0),G=Object(b.a)(Q,2),J=G[0],V=G[1],K=Object(c.useState)(0),X=Object(b.a)(K,2),Z=X[0],$=X[1],ee=Object(c.useState)(0),te=Object(b.a)(ee,2),ne=te[0],ce=te[1],ae=Object(c.useState)(!1),se=Object(b.a)(ae,2),re=se[0],oe=se[1],ue=Object(c.useState)(!1),de=Object(b.a)(ue,2),ge=de[0],me=de[1],pe=Object(c.useState)({}),ve=Object(b.a)(pe,2),ye=ve[0],we=ve[1],Ne=Object(c.useState)([Oe]),Se=Object(b.a)(Ne,2),ke=Se[0],Ce=Se[1],qe=Object(c.useState)([]),Ie=Object(b.a)(qe,2),Pe=Ie[0],Ae=Ie[1],Ee=Object(c.useState)([]),Le=Object(b.a)(Ee,2),ze=Le[0],Ue=Le[1],Fe=Object(c.useState)(!1),Re=Object(b.a)(Fe,2),Te=Re[0],We=Re[1],De=Object(c.useState)(!1),_e=Object(b.a)(De,2),Be=_e[0],Me=_e[1],He=m.firestore(),Ye=function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.collection("categories").get();case 2:t=e.sent,(n=t.docs.map((function(e){return Object(w.a)({},e.data())}))).sort((function(e,t){var n=e.label.toUpperCase(),c=t.label.toUpperCase();return n<c?-1:n>c?1:0})),Ue(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(e){window.location.reload()};function Ge(){!function(){var e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)}}();var e=ke[L].rights.slice(0,ke[L].info.correct);fe=ke[L].wrongs.slice(0,ke[L].info.positions-ke[L].info.correct);for(var t=0;t<e.length;t++)fe.push(e[t]);console.log(fe),oe(!re)}function Je(t){console.log(t);var n=t;Ce(n.test),U(0),document.querySelector("#questionPage").value=1,v({authorId:n.main.author,name:n.main.authorName,testId:n.id}),e=n.main.categories,Ae(e),document.querySelector("#testName").value=n.main.name,r(n.main.name),document.querySelector("#testDescription").value=n.main.description,h(n.main.description),document.querySelector("#visibility").value=n.main.visibility,k(n.main.visibility),document.querySelector("#editability").value=n.main.editability,P(n.main.editability),document.querySelector("#background").value=n.main.background,D(n.main.background),document.querySelector("#backgroundGradient").value=n.main.gradient,Y(n.main.gradient),document.querySelector("#hh").value=n.main.hours,V(n.main.hours),document.querySelector("#mm").value=n.main.minutes,$(n.main.minutes),document.querySelector("#ss").value=n.main.seconds,ce(n.main.seconds)}return Object(c.useEffect)((function(){Ye();var e=JSON.parse(localStorage.getItem("testCopy"));null!==e&&Je(e),localStorage.removeItem("testCopy")}),[]),Object(x.jsxs)("div",{className:"makerContainer",children:[Object(x.jsx)(ie,{user:t.uid,forPage:"create",reloadNeeded:Qe,onLocal:function(e){console.log("test loaded")},onChange:function(e){return Je(e)}}),ge&&Object(x.jsx)(R,{onReturn:function(e,t){if("Proceed"===e&&(me(!1),Qe()),"Update"===e){me(!1);var n={main:{author:p.authorId,authorName:p.name,categories:Pe,name:s,description:j,visibility:S,editability:I,background:W,gradient:M,hours:J,minutes:Z,seconds:ne},test:ke};localStorage.setItem("testCopy",JSON.stringify(n)),He.collection("tests").doc(p.testId).set(n).then((function(e){console.log("file updated"),Qe()})).catch((function(e){console.log("file fail to updated")}))}if("Add"===e)if(console.log(t),-1===ze.map((function(e){return e.value})).indexOf(t)&&t.length>5){var c={label:t,value:t};He.collection("categories").add(c).then((function(e){console.log("categories updated"),Ue([].concat(Object(le.a)(ze),[c]))})).catch((function(e){console.log("categories fail to updated")})),me(!1)}else we({left:"0",top:"0",variantHead:"danger",heading:t.length>5?"Already Exist":"Enter more symbols",text:"Please enter new unique Category name more then 5 symbols long and click Add",inputField:"true",inputValue:t,color1:"danger",button1:"Add",color2:"secondary",button2:"Cancel"});"Cancel"===e&&me(!1)},styling:ye}),Object(x.jsxs)("div",{className:"navContainer",children:[Object(x.jsx)("h3",{style:{width:"100%",textAlign:"center",fontSize:"4vw",color:"#FFFFFF"},children:Object(x.jsx)("strong",{children:"Test editing panel"})}),Object(x.jsx)("button",{className:"testNav",onClick:function(e){s>""&&(me(!0),we({variantHead:"info",heading:"Warning",text:"Did you safe your changes? Your present changes to the test ".concat(s," by ").concat(p.name>""?p.name:"You"," will be lost. Proceed?"),color1:"danger",button1:"Proceed",color2:"secondary",button2:"Cancel"}))},children:"New \u2795"}),Object(x.jsx)("button",{className:"testNav",onClick:function(e){return function(e){var n=JSON.stringify({main:{author:t.uid,authorName:t.displayName,categories:Pe,name:s,description:j,visibility:S,editability:I,background:W,gradient:M,hours:J,minutes:Z,seconds:ne},test:ke});console.log(n);var c=document.createElement("a");c.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),c.setAttribute("download","test.txt"),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}()},children:"Download \ud83d\udcbb"}),Object(x.jsx)("button",{className:"testNav",onClick:function(e){return function(e){var n={main:{author:t.uid,authorName:t.displayName,categories:Pe,name:s,description:j,visibility:S,editability:I,background:W,gradient:M,hours:J,minutes:Z,seconds:ne},test:ke};He.collection("tests").add(n).then((function(e){console.log("file created in DB"),Qe()})).catch((function(e){console.log("no connectionto DB")}))}()},children:"Upload to web \ud83d\udce4"}),p.testId>""&&Object(x.jsx)("button",{className:"testNav",onClick:function(e){return me(!0),void we({variantHead:"warning",heading:"Warning",text:"You about to overwrite data in the test ".concat(s," by ").concat(p.name>""?p.name:"You",". Update?"),color1:"danger",button1:"Update",color2:"secondary",button2:"Cancel"})},children:"Update on web \ud83d\udd01"})]}),Object(x.jsxs)("label",{className:"headerStyle",children:["Enter test Name (keep it under 30 symbols)",Object(x.jsx)("input",{id:"testName",onChange:function(e){return r(e.target.value)}})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("label",{className:"headerStyle",children:["Enter test description",Object(x.jsx)("textarea",{id:"testDescription",onChange:function(e){return h(e.target.value)}})]}),Object(x.jsxs)("div",{className:"containerGrid",children:[Object(x.jsx)("section",{className:"panel1",children:Object(x.jsxs)("label",{children:[Object(x.jsxs)("select",{id:"visibility",onChange:function(e){return k(e.target.value)},children:[Object(x.jsx)("option",{value:"Private",children:"Private"}),Object(x.jsx)("option",{value:"Public",children:"Public"})]}),"Is this test Private or Public?"]})}),Object(x.jsx)("section",{className:"panel2",children:Object(x.jsxs)("label",{children:[Object(x.jsxs)("select",{id:"editability",onChange:function(e){return P(e.target.value)},children:[Object(x.jsx)("option",{value:"Yes",children:"Yes"}),Object(x.jsx)("option",{value:"No",children:"No"})]}),"Would you allow others to edit content of test?"]})})]}),Pe&&Object(x.jsx)(xe,{isMulti:!0,style:{width:"300px",menuColor:"red",marginLeft:"1.5%"},value:Pe,onChange:Ae,options:ze,label:"Choose a test categories"}),Object(x.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:"1% 0 0 1.5%"},onClick:function(e){return me(!0),void we({variantHead:"warning",heading:"Alert",text:"Please enter new unique Category name more then 5 symbols long and click Add",inputField:"true",inputValue:"",color1:"danger",button1:"Add",color2:"secondary",button2:"Cancel"})},children:"Add New Category"}),Object(x.jsxs)("div",{className:"panel2 containerGrid",children:[Object(x.jsx)("section",{className:"headerStyle",children:"Enter time (if there are no time limit enter 0 0 0):"}),Object(x.jsxs)("section",{className:"panel1 headerStyle",style:{float:"left"},children:[Object(x.jsx)("input",{id:"hh",type:"number",min:0,max:10,size:2,style:{width:"5ch"},onChange:function(e){return V(e.target.value)}})," hh",Object(x.jsx)("input",{id:"mm",type:"number",min:0,max:59,size:2,style:{width:"5ch"},onChange:function(e){return $(e.target.value)}})," mm",Object(x.jsx)("input",{id:"ss",type:"number",min:0,max:59,size:2,style:{width:"5ch"},onChange:function(e){return ce(e.target.value)}})," ss"]})]}),Object(x.jsxs)("div",{className:"containerGrid",children:[Object(x.jsxs)("section",{className:"panel1",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",id:"checkAddTestBackground",onChange:function(e){return Me(document.querySelector("#checkAddTestBackground").checked)}}),"Add/change BACKGROUND to your test"]}),Object(x.jsxs)("div",{style:{display:Be?"block":"none",width:"98%"},children:[Object(x.jsxs)("label",{className:"headerStyle",children:["Enter test background image link or upload your image from computer",Object(x.jsx)("input",{id:"background",onChange:function(e){return D(e.target.value)}})]}),Object(x.jsx)(z,{getImgUrl:function(e){document.querySelector("#background").value=e,D(e)}})]})]}),Object(x.jsxs)("section",{className:"panel2",children:[Object(x.jsxs)("label",{children:[Object(x.jsx)("input",{type:"checkbox",id:"checkAddTestGradient",onChange:function(e){return We(document.querySelector("#checkAddTestGradient").checked)}}),"Add/change background GRADIENT to your test"]}),Object(x.jsxs)("div",{style:{display:Te?"block":"none",width:"98%"},children:[Object(x.jsxs)("label",{className:"headerStyle",children:["Enter test background gradient CSS here",Object(x.jsx)("textarea",{id:"backgroundGradient",onChange:function(e){return Y(e.target.value)}})]}),Object(x.jsx)(he,{reloadNeeded:function(e){if(e){var n={main:{author:t.uid,authorName:t.displayName,categories:Pe,name:s,description:j,visibility:S,editability:I,background:W,gradient:M,hours:J,minutes:Z,seconds:ne},test:ke};localStorage.setItem("testCopy",JSON.stringify(n)),Qe()}},onChange:function(e){return function(e){document.querySelector("#backgroundGradient").value=e,Y(e)}(e)}})]})]})]}),Object(x.jsx)(je,{qNumber:ke.length?ke.length:0,onNew:function(e){return Ce((function(e){return[].concat(Object(le.a)(e),[{question:"",rights:[{text:"",img:"",choice:!0}],wrongs:[{text:"",img:"",choice:!1}],info:{positions:2,correct:1,layout:"",img:""}}])})),U(ke.length),void console.log(L)},onDel:function(e){return L===ke.length-1&&U(L-1),void Ce(ke.filter((function(e){return ke.indexOf(e)!==L})))},onMove:function(e){return function(e){if(e[0]!==e[1]){for(var t=[],n=ke[e[0]],c=0;c<ke.length;c++)c===e[1]?e[1]>e[0]?(t.push(ke[c]),t.push(n)):(t.push(n),t.push(ke[c])):c!==e[0]&&t.push(ke[c]);Ce(t),U(e[1]),console.log(n,t)}}(e)},onShow:function(e){return Ge()},onChange:function(e){!function(e){U(e>0?e-1:e)}(e)},onCopy:function(e){localStorage.setItem("questionCopy",JSON.stringify(ke[L]))},onPaste:function(e){!function(e){var t=[],n=JSON.parse(localStorage.getItem("questionCopy"));if(null!==n){for(var c=0;c<ke.length;c++)c===L+1&&t.push(n),t.push(ke[c]);L===ke.length-1&&t.push(n),Ce(t),U(L+1)}}()}}),re&&Object(x.jsxs)("div",{className:"modalContainer",style:{top:window.pageYOffset},children:[Object(x.jsx)("div",{className:"closeTag",style:{position:"absolute",top:"2%",right:"2%"},onClick:function(e){oe(!1),window.onscroll=function(){}},children:Object(x.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(1.2vw,12px)",height:"max(1.2vw,12px)"}})}),Object(x.jsx)(H,{style:{pointerEvents:"none"},background:W,gradient:M,status:"create",info:{positions:ke[L].info.positions,correct:ke[L].info.correct,layout:ke[L].info.layout,img:ke[L].info.img},vis:1,question:ke[L].question,answers:fe,checkedMarks:[],onChange:function(e){}})]}),ke[L]&&Object(x.jsx)(be,{q:ke[L],onChange:function(e){return function(e){var t=Object(le.a)(ke);"question"===Object.getOwnPropertyNames(e)[0]&&(t[L].question=e.question),"mainImg"===Object.getOwnPropertyNames(e)[0]&&(t[L].info.img=e.mainImg),"layout1"===Object.getOwnPropertyNames(e)[0]&&(t[L].info.layout=e.layout1),"positionsCount"===Object.getOwnPropertyNames(e)[0]&&(t[L].info.positions=e.positionsCount),"correctCount"===Object.getOwnPropertyNames(e)[0]&&(t[L].info.correct=e.correctCount),"rights"===Object.getOwnPropertyNames(e)[0]&&(t[L].rights=e.rights),"wrongs"===Object.getOwnPropertyNames(e)[0]&&(t[L].wrongs=e.wrongs),Ce(t)}(e)}}),Object(x.jsxs)("div",{style:{width:"100%",marginLeft:"10px",pointerEvents:"cursor"},children:["\xa9 2021 ",Object(x.jsx)(i.b,{to:"/about",children:"Sergey Bolotnikov"})," "]})]})};var ve=function(){return Object(x.jsx)(i.a,{children:Object(x.jsxs)(p,{children:[Object(x.jsx)(ae,{}),Object(x.jsxs)(o.d,{children:[Object(x.jsx)(o.b,{exact:!0,path:"/",component:oe}),Object(x.jsx)(o.b,{exact:!0,path:"/redirect",component:q}),Object(x.jsx)(P,{path:"/update-profile",component:U}),Object(x.jsx)(o.b,{path:"/signup",component:y}),Object(x.jsx)(o.b,{path:"/login",component:S}),Object(x.jsx)(o.b,{path:"/about",component:k}),Object(x.jsx)(o.b,{path:"/logout",component:C}),Object(x.jsx)(o.b,{path:"/forgot-password",component:A}),Object(x.jsx)(P,{exact:!0,path:"/create",component:pe}),Object(x.jsx)(P,{exact:!0,path:"/dashboard",component:N}),Object(x.jsx)(o.b,{path:"/taketest/:id",children:Object(x.jsx)(ce,{})})]})]})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,129)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(ve,{})}),document.getElementById("root")),ye()},27:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){}},[[117,1,2]]]);
//# sourceMappingURL=main.a59c5d92.chunk.js.map