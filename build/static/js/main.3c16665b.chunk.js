(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var s=n(2),a=n.n(s),c=n(24),i=n.n(c),o=(n(62),n(6)),l=n(7),r=(n(63),n(35));n(64),n(120),n(121);const d=r.a.initializeApp({apiKey:"AIzaSyBDrTSsksx6UdPZSWxOS_kx4wKaACsLmv8",authDomain:"fads-loyalty-program.firebaseapp.com",databaseURL:"http://test-editor-7f0d0.firebaseio.com/",projectId:"fads-loyalty-program",storageBucket:"fads-loyalty-program.appspot.com",messagingSenderId:"138558234620",appId:"1:138558234620:web:828919660aa829381a5c79"}),u=new r.a.auth.GoogleAuthProvider,h=()=>{b.signInWithPopup(u).then((e=>{console.log(e.user)})).catch((e=>{console.log(e.message)}))},b=d.auth();var j=d,g=n(0);const m=a.a.createContext();function x(){return Object(s.useContext)(m)}function p(e){let{children:t}=e;const[n,a]=Object(s.useState)(),[c,i]=Object(s.useState)(!0);Object(s.useEffect)((()=>b.onAuthStateChanged((e=>{a(e),i(!1)}))),[]);const o={currentUser:n,login:function(e,t){return b.signInWithEmailAndPassword(e,t)},signup:function(e,t){return b.createUserWithEmailAndPassword(e,t)},logout:function(){return b.signOut()},resetPassword:function(e){return b.sendPasswordResetEmail(e)},updateEmail:function(e){return n.updateEmail(e)},updatePassword:function(e){return n.updatePassword(e)},updateUser:function(e,t){return console.log("setting profile "+e+t),console.log(n),n.updateProfile({displayName:e,photoURL:t}).then((function(){})).catch((function(e){console.log("error on Profile update")}))}};return Object(g.jsx)(m.Provider,{value:o,children:!c&&t})}var O=function(){return Object(g.jsxs)("div",{id:"footer",style:{position:"absolute",left:0,bottom:0,width:"100%",marginLeft:"10px",pointerEvents:"cursor"},children:["\xa9 2021 ",Object(g.jsx)(o.b,{to:"/about",children:"Sergey Bolotnikov"})]})};n(23);function v(){const e=Object(s.useRef)(),t=Object(s.useRef)(),n=Object(s.useRef)(),{currentUser:a,signup:c}=x(),[i,r]=Object(s.useState)(""),[d,u]=Object(s.useState)(!1),[h,b]=Object(s.useState)(!1);if(!0===h)return Object(g.jsx)(l.a,{to:"/"});if(a)return Object(g.jsx)(l.a,{to:"/redirect"});return Object(g.jsxs)("div",{className:"mainContainer",children:[Object(g.jsxs)("div",{style:{width:"98%",maxWidth:"400px"},children:[Object(g.jsxs)("div",{className:"registeCard",children:[Object(g.jsxs)("h2",{className:"header1",children:["Sign Up",Object(g.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",className:"logo"})]}),i&&Object(g.jsx)("label",{className:"alertStyle",children:i}),Object(g.jsxs)("form",{onSubmit:async function(s){if(s.preventDefault(),t.current.value!==n.current.value)return r("Passwords do not match");if(t.current.value.length<6)return r("Passwords should be at least 6 symbols long");try{r(""),u(!0),c(e.current.value,t.current.value),b(!0)}catch{r("Failed to create an account")}u(!1)},children:[Object(g.jsxs)("label",{className:"headerStyle",children:["Email",Object(g.jsx)("input",{id:"email",style:{width:"100%",margin:"4% auto"},type:"email",ref:e,required:!0})]}),Object(g.jsxs)("label",{className:"headerStyle",children:["Password",Object(g.jsx)("input",{id:"password",style:{width:"100%",margin:"4% auto"},type:"password",ref:t,required:!0})]}),Object(g.jsxs)("label",{className:"headerStyle",children:["Password Confirmation",Object(g.jsx)("input",{id:"password-confirm",style:{width:"100%",margin:"4% auto"},type:"password",ref:n,required:!0})]}),Object(g.jsx)("button",{disabled:d,className:"testNav",style:{width:"100%",margin:"4% auto"},type:"submit",children:"Sign Up"})]})]}),Object(g.jsxs)("div",{className:"divStyle",children:["Already have an account? ",Object(g.jsx)(o.b,{className:"links",to:"/login",children:"Log In"})]})]}),Object(g.jsx)(O,{})]})}var y=function(){const[e,t]=Object(s.useState)(""),{currentUser:n}=x(),[a,c]=Object(s.useState)(0),[i,o]=Object(s.useState)(0),[l,r]=Object(s.useState)(0),[d,u]=Object(s.useState)("BeginnerQuizer"),h=j.firestore();return Object(s.useEffect)((()=>{h.collection("tests").where("main.author","==",n.uid).get().then((e=>{c(e.docs.map((e=>({...e.data()}))).length)})).catch((e=>{console.log("fail to get tests for user")})),h.collection("results").where("userId","==",n.uid).get().then((e=>{let t=e.docs.map((e=>({...e.data()}))),n=0;console.log(t);for(let c=0;c<t.length;c++)n+=parseFloat(t[c].result);let s=0;t.length>0&&(s=(n/t.length).toFixed(3)),r(s),o(t.length);let a="";s<=100&&(a="DiamondQuizer"),s<=90&&(a="GoldQuizer"),s<=80&&(a="SilverQuizer"),s<=70&&(a="BronzeQuizer"),s<=60&&(a="BeginnerQuizer"),u(a)})).catch((e=>{console.log("fail to get user results")}))}),[]),Object(g.jsxs)("div",{className:"mainContainer",children:[Object(g.jsxs)("div",{style:{width:"98%",maxWidth:"400px",marginTop:"6%"},children:[Object(g.jsxs)("div",{className:"registeCard",style:{padding:".75em"},children:[Object(g.jsxs)("div",{className:"closeTag",onClick:e=>{window.location.assign("/test-editor/#/")},children:[" ",Object(g.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",style:{height:"1%"}}),Object(g.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(2vw,20px)",height:"max(2vw,20px)",float:"right"}})]}),e&&Object(g.jsx)("label",{className:"alertStyle",children:e}),Object(g.jsx)("img",{style:{maxWidth:"60%",maxHeight:"35vh",margin:"3% 15%"},src:n.photoURL>""?n.photoURL:"/test-editor/icons/defaultUser.svg",alt:"profile pic"}),Object(g.jsxs)("h2",{className:"divStyle",style:{textAlign:"center",width:"100%",maxWidth:"23ch",margin:"auto"},children:[" ",Object(g.jsx)("strong",{children:"@"}),n.displayName]}),Object(g.jsxs)("h6",{className:"divStyle",style:{textAlign:"center",textDecoration:"underline"},children:["   ",n.email," "]})]}),Object(g.jsx)("table",{style:{width:"97%",border:"1px solid white",backgroundColor:"white",borderRadius:"10px",margin:"3% auto"},children:Object(g.jsxs)("tbody",{children:[Object(g.jsxs)("tr",{style:{backgroundColor:"white"},children:[Object(g.jsx)("td",{children:Object(g.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%"},children:"Quiz created:"})}),Object(g.jsxs)("td",{children:[" ",Object(g.jsx)("span",{style:{fontStyle:"oblique",color:"#554FA7"},children:a})]})]}),Object(g.jsxs)("tr",{style:{backgroundColor:"white"},children:[Object(g.jsx)("td",{children:Object(g.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%"},children:"Quiz results on file:"})}),Object(g.jsxs)("td",{children:[" ",Object(g.jsx)("span",{style:{fontStyle:"oblique",color:"#554FA7"},children:i})]})]}),Object(g.jsxs)("tr",{style:{backgroundColor:"white"},children:[Object(g.jsx)("td",{children:Object(g.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%"},children:"Average Quiz rated:"})}),Object(g.jsxs)("td",{children:[" ",Object(g.jsxs)("span",{style:{fontStyle:"oblique",color:"#554FA7"},children:[l,"%"]})]})]}),Object(g.jsx)("tr",{style:{backgroundColor:"transparent"},children:Object(g.jsx)("td",{children:Object(g.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%",color:"transparent"},children:" quiz"})})}),Object(g.jsxs)("tr",{style:{backgroundColor:"lightgrey"},children:[Object(g.jsx)("td",{children:Object(g.jsx)("div",{style:{whiteSpace:"wrap",textAlign:"center",width:"100%"},children:"Your rate:"})}),Object(g.jsxs)("td",{children:[" ",Object(g.jsx)("span",{style:{fontStyle:"oblique",color:"#554FA7"},children:d})]})]})]})}),Object(g.jsx)("button",{className:"testNav",style:{width:"100%",margin:"4% auto"},onClick:async function(){t(""),window.location.assign("/test-editor/#/update-profile")},children:"Update Profile"})]}),Object(g.jsx)(O,{})]})};function f(){const e=Object(s.useRef)(),t=Object(s.useRef)(),{currentUser:n,login:a}=x(),[c,i]=Object(s.useState)(""),[r,d]=Object(s.useState)(!1),[u,b]=Object(s.useState)(!1);if(!0===u)return Object(g.jsx)(l.a,{to:"/"});return Object(g.jsxs)("div",{className:"mainContainer",children:[Object(g.jsxs)("div",{style:{width:"98%",maxWidth:"400px"},children:[Object(g.jsxs)("div",{className:"registeCard",children:[Object(g.jsxs)("h2",{className:"header1",children:["Log In",Object(g.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",className:"logo"})," "]}),c&&Object(g.jsx)("label",{className:"alertStyle",children:c}),Object(g.jsxs)("form",{onSubmit:async function(n){n.preventDefault();try{i(""),d(!0),await a(e.current.value,t.current.value),b(!0)}catch{i("Failed to log in")}d(!1)},children:[Object(g.jsxs)("label",{className:"headerStyle",children:["Email",Object(g.jsx)("input",{id:"email",style:{width:"100%",margin:"4% auto"},type:"email",ref:e,required:!0})]}),Object(g.jsxs)("label",{className:"headerStyle",children:["Password",Object(g.jsx)("input",{id:"password",style:{width:"100%",margin:"4% auto"},type:"password",ref:t,required:!0})]}),Object(g.jsx)("button",{disabled:r,className:"testNav",style:{width:"100%",margin:"4% auto"},type:"submit",children:"Log In"})]}),Object(g.jsxs)("button",{className:"testNav",onClick:h,style:{display:"flex",justifyContent:"space-evenly",width:"100%",margin:"4% auto",alignItems:"center",padding:".25em"},children:[Object(g.jsx)("img",{src:"/test-editor/icons/G_Logo.svg",style:{width:"15%"},alt:"google icon"}),Object(g.jsx)("span",{children:" Continue with Google"})]}),Object(g.jsx)("div",{className:"divStyle",children:Object(g.jsx)(o.b,{className:"links",to:"/forgot-password",children:"Forgot Password?"})})]}),Object(g.jsxs)("div",{className:"divStyle",children:["Need an account? ",Object(g.jsx)(o.b,{className:"links",to:"/signup",children:"Sign Up"})]}),Object(g.jsxs)("div",{className:"divStyle",children:["Want a demo? ",Object(g.jsx)(o.b,{className:"links",to:"/taketest/RtqxyubO57LToxbaOzpj",children:"Take Demo Test"})]})]}),Object(g.jsx)(O,{})]})}var w=n(53),N=n.n(w);function S(){const[e,t]=Object(s.useState)(""),[n,a]=Object(s.useState)(!1),[c,i]=Object(s.useState)(-1);return Object(g.jsx)("div",{className:"mainContainer",children:Object(g.jsx)("div",{style:{width:"98%",maxWidth:"800px",marginTop:"4em",marginBottom:"2%"},children:Object(g.jsxs)("div",{className:"registeCard",children:[Object(g.jsxs)("h4",{className:"header1",children:["Click on text to start video",Object(g.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",className:"logo"})]}),Object(g.jsx)("div",{style:{margin:"3vh 0",minHeight:"50vh",overflow:"auto"},children:Object(g.jsx)(N.a,{url:e,playing:n,controls:!0,width:"100%"})}),[{name:"Test Taking",value:"0m13s",vis:!1,sub:[{name:"Selecting Quiz to Take",value:"0m15s"},{name:"Log In, Sign Up, Demo Test",value:"0m39s"},{name:"Get Test Information",value:"0m59s"},{name:"Start Test",value:"1m19s"},{name:"Test Navigation",value:"1m33s"},{name:"Ending Test",value:"2m14s"},{name:"Saving & Sharing results",value:"2m35s"}]},{name:"Dashboard",value:"4m11s",vis:!1,sub:[{name:"Update Profile",value:"4m34s"},{name:"Update Avatar",value:"4m50s"}]},{name:"Managing Test",value:"5m48s",vis:!1,sub:[{name:"Part 1: Choose Test to Edit",value:"6m07s"},{name:"Load Test from HardDrive",value:"6m29s"},{name:"Part 2: Test properties",value:"7m00s"},{name:"Create category for your test",value:"7m37s"},{name:"Setting Background",value:"8m05s"},{name:"Setting background Gradient",value:"8m26s"},{name:"Upload to Web button",value:"8m56s"},{name:"Update on Web, Download, New buttons",value:"9m24s"}]},{name:"Question Editing Tool",value:"9m58s",vis:!1,sub:[{name:"Question design Form",value:"10m11s"},{name:"Navigation",value:"10m53s"},{name:"Different Layouts",value:"11m05s"},{name:"Add, Delete Question",value:"11m42s"},{name:"Move Question",value:"11m56s"},{name:"Copy/Paste question",value:"12m14s"},{name:"Copy/Paste answering options",value:"13m01s"},{name:"Add, Erase answering options",value:"13m24s"},{name:"Preview Question",value:"13m30s"}]}].map(((e,n)=>Object(g.jsxs)("div",{style:{margin:"5px"},children:[Object(g.jsxs)("div",{style:{width:"100%",height:"50px",borderRadius:"10px",display:"flex",backgroundColor:"#554FA7"},children:[Object(g.jsx)("h5",{style:{cursor:"pointer",color:"white",textAlign:"center",margin:"auto"},onClick:n=>{t("https://youtu.be/x116B9S0tX4#t=".concat(e.value)),a(!0)},children:e.name}),Object(g.jsx)("div",{style:{fontSize:"max(1.2vw,12px)",border:"1px solid transparent",cursor:"pointer",outlineColor:"transparent",display:"flex",alignItems:"center",marginRight:"5px"},id:n+".links",onClick:e=>function(e){let t=parseInt(e.currentTarget.id);i(t!==c?t:-1)}(e),children:Object(g.jsx)("img",{src:"/test-editor"+(n!==c?"/icons/plus.svg":"/icons/close.svg"),alt:"open",style:{width:"max(1.2vw,12px)",height:"max(1.2vw,12px)"}})},"right_eraseBtn_"+n)]},"option_name"+n),n===c&&e.sub.map(((e,n)=>Object(g.jsx)("div",{style:{cursor:"pointer"},onClick:n=>{t("https://youtu.be/x116B9S0tX4#t=".concat(e.value)),a(!0)},children:e.name},"subOption_name"+n)))]},"option"+n)))]})})})}var C=function(){const{logout:e}=x();return Object(s.useEffect)((()=>{!async function(){try{await e()}catch{console.log("Failed to log out")}}()}),[]),Object(g.jsx)(l.a,{to:"/login"})};var k=function(){return Object(g.jsx)(l.a,{to:"/"})};function q(e){let{component:t,...n}=e;const{currentUser:s}=x();return Object(g.jsx)(l.b,{...n,render:e=>s?Object(g.jsx)(t,{...e}):Object(g.jsx)(l.a,{to:"/login"})})}function I(){const e=Object(s.useRef)(),{resetPassword:t}=x(),[n,a]=Object(s.useState)(""),[c,i]=Object(s.useState)(""),[l,r]=Object(s.useState)(!1);return Object(g.jsx)("div",{className:"mainContainer",children:Object(g.jsxs)("div",{style:{width:"98%",maxWidth:"400px"},children:[Object(g.jsxs)("div",{className:"registeCard",children:[Object(g.jsxs)("h2",{className:"header1",children:["Password Reset",Object(g.jsx)("img",{src:"/test-editor/icons/QuizLogo.svg",alt:"logo simple",className:"logo"})]}),n&&Object(g.jsx)("label",{className:"alertStyle",children:n}),c&&Object(g.jsx)("label",{className:"successStyle",children:c}),Object(g.jsxs)("form",{onSubmit:async function(n){n.preventDefault();try{i(""),a(""),r(!0),await t(e.current.value),i("Check your inbox for further instructions")}catch{a("Failed to reset password")}r(!1)},children:[Object(g.jsxs)("label",{className:"headerStyle",children:["Email",Object(g.jsx)("input",{id:"email",type:"email",ref:e,required:!0})]}),Object(g.jsx)("button",{disabled:l,className:"btnNav",type:"submit",children:"Reset Password"})]}),Object(g.jsx)("div",{className:"divStyle",children:Object(g.jsx)(o.b,{to:"/login",className:"links",children:"Login"})})]}),Object(g.jsxs)("div",{className:"divStyle",children:["Need an account? ",Object(g.jsx)(o.b,{to:"/signup",className:"links",children:"Sign Up"})]})]})})}var P=n(54),A=n.n(P);var E=function(e){const[t,n]=Object(s.useState)("");return Object(g.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"start",marginLeft:"2%",maxWidth:"600px"},children:[Object(g.jsx)("input",{type:"file",style:{width:"48%"},onChange:e=>n(e.target.files[0])}),Object(g.jsx)("div",{className:"cloudinary-button testNav",onClick:s=>{(s=>{const a=new FormData;a.append("file",t),a.append("upload_preset","quizzes"),A.a.post("https://api.cloudinary.com/v1_1/sergeyb/image/upload",a).then((t=>{n(""),console.log(t.data.url),console.log(s.target.parentElement.previousSibling.value),s.target.parentElement.previousSibling.value="",e.getImgUrl(t.data.url)})).catch((e=>{console.log("Fail to upload image")}))})(s)},children:"Upload Image"})]})};function L(){const e=Object(s.useRef)(),t=Object(s.useRef)(),n=Object(s.useRef)(),a=Object(s.useRef)(),{currentUser:c,updatePassword:i,updateEmail:r,updateUser:d}=x(),[u,h]=Object(s.useState)(""),[b,j]=Object(s.useState)(!1),[m,p]=Object(s.useState)(!1),[v,y]=Object(s.useState)(c.photoURL);return!0===m?Object(g.jsx)(l.a,{to:"/dashboard"}):Object(g.jsxs)("div",{className:"mainContainer",children:[Object(g.jsxs)("div",{style:{width:"98%",maxWidth:"400px",marginTop:"5%"},children:[Object(g.jsxs)("div",{className:"registeCard",children:[Object(g.jsxs)("h2",{className:"header1",children:["Update Profile",null!=v&&Object(g.jsx)("img",{src:v,alt:"logo simple",className:"logo"})]}),u&&Object(g.jsx)("label",{className:"alertStyle",children:u}),Object(g.jsxs)("form",{onSubmit:function(s){if(s.preventDefault(),t.current.value!==a.current.value)return h("Passwords do not match");const o=[];j(!0),h(""),e.current.value!==c.email&&o.push(r(e.current.value)),t.current.value&&o.push(i(t.current.value)),n.current.value===c.displayName&&v===c.photoURL||o.push(d(n.current.value,v)),Promise.all(o).then((()=>{p(!0)})).catch((()=>{h("Failed to update account")})).finally((()=>{j(!1)}))},children:[Object(g.jsxs)("label",{className:"headerStyle",children:["User's Name (keep it shorter then 20 symbols please)",Object(g.jsx)("input",{id:"userName",type:"text",ref:n,defaultValue:c.displayName,placeholder:"Leave blank to keep the same"})]}),Object(g.jsxs)("label",{className:"headerStyle",id:"userURL",children:["User's picture link",Object(g.jsx)("input",{type:"text",onChange:e=>{y(e.target.value)},defaultValue:c.photoURL}),Object(g.jsx)(E,{style:{width:"200px",objectFit:"cover",margin:"10px"},getImgUrl:e=>{document.querySelector("#userURL").childNodes[1].value=e,y(e),console.log(v)}})]}),Object(g.jsxs)("label",{className:"headerStyle",children:["Email",Object(g.jsx)("input",{id:"email",type:"email",ref:e,required:!0,defaultValue:c.email})]}),Object(g.jsxs)("label",{className:"headerStyle",children:["Password",Object(g.jsx)("input",{id:"password",type:"password",ref:t,placeholder:"Leave blank to keep the same"})]}),Object(g.jsxs)("label",{className:"headerStyle",children:["Password Confirmation",Object(g.jsx)("input",{id:"password-confirm",type:"password",ref:a,placeholder:"Leave blank to keep the same"})]}),Object(g.jsx)("button",{disabled:b,className:"testNav",style:{width:"100%",margin:"2% auto"},type:"submit",children:"Update"})]})]}),Object(g.jsx)("div",{className:"divStyle",children:Object(g.jsx)(o.b,{to:"/dashboard",className:"links",children:"Cancel"})})]}),Object(g.jsx)(O,{})]})}var T={danger:{color:"#721c24",backgroundColor:"#f8d7da",borderColor:"#f5c6cb"},success:{color:"#155724",backgroundColor:"#d4edda",borderColor:"#c3e6cb"},secondary:{color:"#383d41",backgroundColor:"#e2e3e5",borderColor:"#d6d8db"},warning:{color:"#856404",backgroundColor:"#fff3cd",borderColor:"#ffeeba"},info:{color:"#0c5460",backgroundColor:"#d1ecf1",borderColor:"#bee5eb"},"":{}};function U(e){const[t,n]=Object(s.useState)(""),[a,c]=Object(s.useState)("");function i(){window.onscroll=function(){}}return Object(s.useEffect)((()=>{n(Object.values(T)[Object.keys(T).indexOf(e.styling.color1)].color),c(Object.values(T)[Object.keys(T).indexOf(e.styling.color2)].color),function(){var e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)},console.log(e,t)}()}),[]),Object(g.jsx)("div",{style:{width:"100vw",height:"100vh",position:"absolute",top:window.pageYOffset,left:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:"1700",backgroundColor:"rgba(105,105,105, .7)"},children:Object(g.jsxs)("div",{className:"alertContainer",children:[Object(g.jsx)("label",{className:"alertItemStyle",style:Object.values(T)[Object.keys(T).indexOf(e.styling.variantHead)],children:e.styling.heading}),Object(g.jsx)("h5",{className:"alertItemStyle",children:e.styling.text}),e.styling.inputField&&Object(g.jsx)("input",{id:"inputField",style:{width:"100%",marginBottom:"10px"},defaultValue:e.inputValue}),""!==e.styling.color1&&Object(g.jsx)("button",{className:"alertItemStyle",style:{backgroundColor:t,color:"white"},onClick:t=>{i(),e.onReturn(e.styling.button1,e.styling.inputField?document.querySelector("#inputField").value:null)},children:e.styling.button1}),""!==e.styling.color2&&Object(g.jsx)("button",{className:"alertItemStyle",style:{backgroundColor:a,color:"white"},onClick:t=>{i(),e.onReturn(e.styling.button2)},children:e.styling.button2})]})})}var z=function(e){var t;const[n,a]=Object(s.useState)(d(e.hours,e.minutes,e.seconds)),[c,i]=Object(s.useState)(!1),[o,l]=Object(s.useState)({});let r=3600*e.hours+60*e.minutes+e.seconds;function d(e,t,n){return"".concat(e<10?"0"+e:e,":").concat(t<10?"0"+t:t,":").concat(n<10?"0"+n:n)}function u(){clearInterval(t),window.onscroll=function(){},console.log("end"),document.querySelector(".testNav").classList.add("invisible"),document.querySelectorAll(".testNav").forEach((function(e){e.classList.add("invisible")})),e.onExit(n)}function h(t){let n=document.querySelector("#questionPage");if(Number.isInteger(t))1===t&&(""===n.value?n.value=1:parseInt(n.value)<e.qNumber?n.value=parseInt(n.value)+1:(n.value=1,l({variantHead:"danger",heading:"Warning",text:"Would you like to finish the test?",color1:"danger",button1:"Finish",color2:"secondary",button2:"Cancel"}),i(!0))),-1===t&&(""===n.value?n.value=e.qNumber:parseInt(n.value)>1?n.value-=1:n.value=e.qNumber);else if("0"===t){let e=document.querySelectorAll(".testNav");e.forEach((function(e){e.classList.remove("invisible")})),e=document.querySelectorAll(".testNavLight"),e.forEach((function(e){e.classList.remove("invisible")})),document.querySelector("#startNav").classList.add("invisible"),n.value=1}else n.value=t;"0"===t?e.onChange(0):e.onChange(parseInt(n.value))}return Object(g.jsxs)(s.Fragment,{children:[c&&Object(g.jsx)(U,{onReturn:e=>{i(!1),"Finish"===e&&u()},styling:o}),Object(g.jsx)("button",{className:"testNav",id:"startNav",style:{position:"absolute",top:"44vh",left:"43vw",zIndex:"200"},onClick:function(n){let s=e.seconds,c=e.minutes,i=e.hours;!function(){var e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)},console.log(e,t)}(),h("0"),n.preventDefault(),0===s&&0===c&&0===i||(t=setInterval((function(){r--,0===s?s=59:s--,59===s&&(0===c?(c=59,i--):c--),a(d(i,c,s)),0===r&&(clearInterval(t),document.querySelector(".testNav").classList.add("invisible"),e.onExit("00:00:00"))}),1e3))},children:"Start"}),Object(g.jsx)("button",{className:"testNav invisible",style:{position:"absolute",top:"10vh",left:0,textShadow:"1px 1px black",background:"transparent",zIndex:1500},onClick:e=>{h(-1)},children:"\u23eaBack"}),Object(g.jsxs)("label",{className:"testNav invisible",style:{position:"absolute",top:"0",left:"0",margin:"1.25vh 1vw",fontSize:"calc(10px + 1vw)",zIndex:1500},children:[Object(g.jsx)("input",{className:"testNavLight invisible",style:{width:"3ch",fontSize:"calc(10px + 1vw)"},type:"number",id:"questionPage",min:"1",max:e.qNumber.toString(),onClick:e=>h(e.target.value)}),"of ",e.qNumber]}),Object(g.jsx)("button",{className:"testNav invisible ",style:{position:"absolute",top:"10vh",right:0,textShadow:"1px 1px black",background:"transparent",zIndex:1500},onClick:e=>{h(1)},children:"\u23e9Next"}),Object(g.jsx)("label",{className:"testNav invisible",style:{position:"absolute",background:"transparent",top:0,left:"38vw",width:"8ch",zIndex:1500,textShadow:"1px 1px black"},children:n}),Object(g.jsx)("button",{className:"testNav invisible",id:"finishBtn",style:{position:"absolute",top:0,right:0,marginTop:"1.25vh",backgroundImage:"url(".concat("/test-editor/icons/finish.svg",")"),width:"9vh",height:"3vh",borderWidth:"0px",borderRadius:"5px",zIndex:1500},onClick:u})]})},F=n(27),R=n.n(F);n(100);var D=e=>(Object(s.useEffect)((()=>{for(let t=0;t<e.answers.length;t++)document.querySelector("#answer_"+t).checked=!1,e.checkedMarks.indexOf(t)>=0&&(document.querySelector("#answer_"+t).checked=!0)}),[e.answers]),Object(g.jsx)(s.Fragment,{children:Object(g.jsxs)("div",{id:"questionContainerBox",style:{opacity:e.vis},children:[Object(g.jsx)("section",{className:"questionSection",children:Object(g.jsx)(R.a,{max:256,mode:"multi",min:12,style:{color:"white",minHeight:"90%",maxHeight:"90%",minWidth:"90%",maxWidth:"90%",lineHeight:1,margin:"auto",textAlign:"center",textShadow:"1px 1px 2px black"},children:e.question})}),Object(g.jsx)("section",{className:"answerSection",style:{display:"flex",justifyContent:"space-between",alignContent:"center",flexWrap:"wrap",width:"99%",overflow:"visible"},children:e.answers.map(((t,n)=>Object(g.jsxs)("label",{className:"option_item",style:{width:"49%",minHeight:"22%",maxHeight:"200px",maxWidth:"200px"},children:[Object(g.jsx)("input",{type:"checkbox",className:"checkOut",id:"answer_"+n,value:n,onChange:t=>function(t){if(1===e.type){for(let t=0;t<e.answers.length;t++)document.querySelector("#answer_"+t).checked=!1;document.querySelector("#"+t.target.id).checked=!0}let n=[];for(let s=0;s<e.answers.length;s++)!0===document.querySelector("#answer_"+s).checked&&n.push(s);e.onChange(n)}(t)},"inputBox"+n),Object(g.jsxs)("div",{className:"option_inner",style:{backgroundImage:"url(".concat(t.img,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"},children:[Object(g.jsx)("div",{className:"tickmark",children:" "},"divBox"+n),Object(g.jsx)("div",{className:"name",style:{width:"13ch"},children:t.text},"div2Box"+n)]})]},"labelBox"+n)))})]})}));function W(e){return Object(g.jsx)("div",{style:{width:"100vw",height:"100vh",position:"absolute",top:window.pageYOffset,left:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:"2000",backgroundColor:"rgba(105,105,105, .7)"},children:Object(g.jsxs)("div",{style:{margin:"auto",maxWidth:"600px",border:"1px solid gray",borderRadius:".25rem",padding:"2%"},children:[Object(g.jsx)("img",{src:e.img,style:{width:"100%",visibility:"visible"},alt:"zooming in"}),Object(g.jsx)("div",{className:"closeTag",onClick:t=>{e.closeModal(!0)},children:Object(g.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{float:"right",width:"max(1.2vw,12px)",height:"max(1.2vw,12px)",color:"red"}})})]})})}n(101);var _=function(e){const[t,n]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{for(let t=0;t<e.answers.length;t++)document.querySelector("#answer_"+t).checked=!1,e.checkedMarks.indexOf(t)>=0&&(document.querySelector("#answer_"+t).checked=!0)}),[e.answers]),Object(g.jsxs)("div",{id:"questionContainerSimple",style:{opacity:e.vis},children:[t&&Object(g.jsx)(W,{img:e.info.img,closeModal:e=>{n(!1)}}),Object(g.jsxs)("section",{className:"questionSection",style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap",width:"98%",overflow:"hidden"},children:[Object(g.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",height:window.innerWidth<700?"30%":"70%"},children:Object(g.jsx)("img",{src:e.info.img,style:{height:"100%",alignSelf:"center"},alt:e.info.img,onClick:e=>{n(!0)}})}),Object(g.jsx)("div",{style:{width:"100%",height:window.innerWidth<700?"70%":"30%"},children:Object(g.jsx)(R.a,{max:256,mode:"multi",min:12,style:{color:"white",minHeight:"90%",maxHeight:"90%",minWidth:"90%",maxWidth:"90%",lineHeight:1,margin:"auto",textAlign:"center",textShadow:"1px 1px 2px black"},children:e.question})})]}),Object(g.jsx)("section",{className:"answerSection",style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",flexWrap:"wrap",width:"98%",overflow:"visible"},children:e.answers.map(((t,n)=>Object(g.jsxs)("label",{className:"option_simple",style:{height:"".concat(93/e.answers.length,"%")},children:[Object(g.jsx)("input",{type:"checkbox",className:"checkOut",id:"answer_"+n,value:n,onChange:t=>function(t){if(1===e.info.correct){for(let t=0;t<e.answers.length;t++)document.querySelector("#answer_"+t).checked=!1;document.querySelector("#"+t.target.id).checked=!0}let n=[];for(let s=0;s<e.answers.length;s++)!0===document.querySelector("#answer_"+s).checked&&n.push(s);e.onChange(n)}(t)},"inputSimple"+n),Object(g.jsx)("div",{className:"option_inner",children:Object(g.jsx)(R.a,{className:"name",max:256,mode:"multi",min:10,style:{minHeight:"90%",maxHeight:"90%",minWidth:"90%",maxWidth:"90%",lineHeight:1,textAlign:"center",textShadow:"1px 1px 2px black"},children:t.text},"spanSimple"+n)},"divSimple"+n)]},"labelSimple"+n)))})]})};var B=e=>{const[t,n]=Object(s.useState)("");return Object(s.useEffect)((()=>{let t=e.background.length>0?"url(".concat(e.background,")"):"",s=e.gradient.length>0?" ".concat(e.gradient):"",a=e.background.length>0&&e.gradient.length>0?",":"";n(s+a+t)}),[]),Object(g.jsxs)("div",{id:"questionDisplayContainer",className:"".concat("test"===e.status?"noScroll":""),style:{backgroundImage:t},children:["box"===e.info.layout?Object(g.jsx)(D,{type:e.info.correct,vis:e.vis,question:e.question,answers:e.answers,checkedMarks:e.checkedMarks,onChange:t=>{e.onChange(t)}}):Object(g.jsx)("div",{style:{display:"none"}}),"simple"===e.info.layout?Object(g.jsx)(_,{info:e.info,vis:e.vis,question:e.question,answers:e.answers,checkedMarks:e.checkedMarks,onChange:t=>{e.onChange(t)}}):Object(g.jsx)("div",{style:{display:"none"}})]})};var H=function(e){const t=j.firestore(),[n,a]=Object(s.useState)([]);return Object(s.useEffect)((()=>{let n=[];(async()=>{t.collection("results").where("testId","==",e.testId).get().then((e=>{e.forEach((e=>{n.push(e.data())})),n.sort((function(e,t){return t.result===e.result?t.time-e.time:t.result-e.result})),a(n)}))})()}),[]),Object(g.jsx)("div",{style:{width:"60vw",maxHeight:"20vh",overflow:"auto",textAlign:"center",justifyContent:"center",borderRadius:"10px",backgroundImage:"linear-gradient(90deg, transparent 0%, transparent 8%,rgba(90, 90, 90,0.05) 8%, rgba(90, 90, 90,0.05) 21%,transparent 21%, transparent 100%),linear-gradient(45deg, transparent 0%, transparent 23%,rgba(90, 90, 90,0.05) 23%, rgba(90, 90, 90,0.05) 37%,transparent 37%, transparent 100%),linear-gradient(0deg, transparent 0%, transparent 37%,rgba(90, 90, 90,0.05) 37%, rgba(90, 90, 90,0.05) 49%,transparent 49%, transparent 100%),linear-gradient(90deg, rgb(255,255,255),rgb(255,255,255))"},children:Object(g.jsxs)("table",{style:{margin:"auto"},children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"Result"}),Object(g.jsx)("th",{children:"Time Left"})]}),Object(g.jsx)("tbody",{children:n&&n.map(((e,t)=>Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:e.displayName},"name"+t),Object(g.jsx)("td",{children:e.result},"result"+t),Object(g.jsx)("td",{children:e.time},"time"+t)]},t)))})]})})},M=n(137),Q=n(138),G=n(139),Y=n(140),J=n(141),V=n(142),X=n(143),K=n(144);var Z=function(e){var t={"&:hover > svg":{height:"50px !important",width:"50px !important"}};return Object(g.jsxs)("div",{children:[Object(g.jsx)(M.a,{url:e.url,quote:e.title+"\n"+e.quote,hashtag:e.hashtag,className:t,children:Object(g.jsx)(Q.a,{size:36,round:!0})}),Object(g.jsx)(G.a,{url:e.url,title:e.title+"\n"+e.quote,hashtag:e.hashtag,className:t,children:Object(g.jsx)(Y.a,{size:36,round:!0})}),Object(g.jsx)(J.a,{url:e.url,title:e.title+"\n"+e.quote,separator:":: ",className:t,children:Object(g.jsx)(V.a,{size:36,round:!0})}),Object(g.jsx)(X.a,{url:e.url,subject:e.title,body:e.quote+"\n",media:e.image,className:t,children:Object(g.jsx)(K.a,{size:36,round:!0})})]})};var $=e=>{const{currentUser:t}=x(),[n,a]=Object(s.useState)(t?t.displayName:""),c=Object(s.useRef)(t?t.uid:"");function i(){window.location.assign("/test-editor/#/redirect"),console.log("redirect to /")}function o(e){let t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2])}return Object(g.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",width:"100%",marginTop:"15%",alignContent:"center",justifyContent:"center",color:"black",textShadow:"1px 1px #f5d142",backgroundImage:"linear-gradient(90deg, transparent 0%, transparent 8%,rgba(90, 90, 90,0.05) 8%, rgba(90, 90, 90,0.05) 21%,transparent 21%, transparent 100%),linear-gradient(45deg, transparent 0%, transparent 23%,rgba(90, 90, 90,0.05) 23%, rgba(90, 90, 90,0.05) 37%,transparent 37%, transparent 100%),linear-gradient(0deg, transparent 0%, transparent 37%,rgba(90, 90, 90,0.05) 37%, rgba(90, 90, 90,0.05) 49%,transparent 49%, transparent 100%),linear-gradient(90deg, rgb(255,255,255),rgb(255,255,255))",backgroundSize:"100% 100%"},children:[e.testId.length>0&&Object(g.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"Top results"}),e.testId.length>0&&Object(g.jsx)(H,{testId:e.testId}),Object(g.jsxs)("h3",{style:{width:"100%",textAlign:"center"},children:["You have ",e.rate,"% ",o(e.time),"sec left"]}),Object(g.jsx)("div",{style:{width:"60vw",maxHeight:"20vh",overflow:"auto",textAlign:"center",justifyContent:"center",borderRadius:"10px"},children:Object(g.jsxs)("table",{style:{margin:"auto"},children:[Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"Question"}),Object(g.jsx)("th",{children:"Result"})]}),e.res.map(((e,t)=>Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t+1},"num"+t),Object(g.jsx)("td",{children:e?Object(g.jsx)("span",{children:"\u2705"}):Object(g.jsx)("span",{children:"\u274c"})},"correct"+t)]},"n"+t)))]})}),e.testId.length>0&&Object(g.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"Would you like to save results?"}),c.current.length<=0&&Object(g.jsxs)("label",{className:"headerStyle",style:{width:"100%",textAlign:"center"},children:["Enter your display Name. You are not in our database",Object(g.jsx)("input",{id:"testName",style:{marginLeft:"10px"},onChange:e=>a(e.target.value)})]}),e.testId.length>0&&Object(g.jsx)("button",{className:"testNav",style:{margin:"5px"},onClick:t=>{j.firestore().collection("results").add({testId:e.testId,displayName:n,userId:c.current,result:e.rate,time:o(e.time)}).then((e=>{i()})).catch((e=>{console.log("fail to record result")}))},children:"Yes, Please do!"}),e.testId.length>0&&Object(g.jsx)("button",{className:"testNav",style:{margin:"5px"},onClick:e=>i(),children:"No, Thank you!"}),Object(g.jsx)("div",{style:{display:"flex",width:"100%",justifyContent:"center"},children:e.testId.length<=0&&Object(g.jsx)("button",{className:"testNav",style:{margin:"5px"},onClick:e=>i(),children:"Come Back!"})}),e.testId.length>0&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{style:{width:"100%",textAlign:"center"},children:"To share results click below"}),Object(g.jsx)(Z,{title:"I just complete the ".concat(e.testName," at Quiz Land site"),url:"https://sbolotnikov.github.io/test-editor/#/taketest/"+e.testId,quote:"I got ".concat(e.rate,"% correct with ").concat(o(e.time)," seconds left. \n Could you beat me? \n Click on the link below. Good luck! \n"),hashtag:"#QuizLand ",image:"/test-editor/icons/QuizLogo.svg",description:"My score was ... And ... seconds left. Could you beat me?"})]})]})};n(102);var ee=function(e){var t=[parseInt(e.test.main.hours),parseInt(e.test.main.minutes),parseInt(e.test.main.seconds)],n=e.test.main.background,a=e.test.test,c=[],i=[];const[o,l]=Object(s.useState)(0),[r,d]=Object(s.useState)(""),[u,h]=Object(s.useState)([]),[b,j]=Object(s.useState)([]),[m,x]=Object(s.useState)(0),[p,O]=Object(s.useState)(0),[v,y]=Object(s.useState)("");function f(e){let t=[],n=e.length,s=0;for(let a=0;a<n;a++)s=Math.floor(Math.random()*e.length),t.push(e[s]),e.splice(s,1);return t}function w(e,t){let n=[],s=0;for(let a=0;a<t;a++)s=Math.floor(Math.random()*e.length),n.push(e[s]),e.splice(s,1);return n}function N(e){let t=[],n=0;console.log(e);let s=function(){let e=[],t=[];for(let n=0;n<v.length;n++){t=[];for(let e=0;e<v[n].answers.length;e++)!0===v[n].answers[e].choice&&t.push(e);e.push(t)}return e}();O(0);for(let a=0;a<s.length;a++)JSON.stringify(s[a])===JSON.stringify(u[a])?t.push(!0):t.push(!1),!0===t[a]&&(n+=1);console.log((n/s.length*100).toFixed(2).toString()),x((n/s.length*100).toFixed(2)),j(t),d(e),console.log(b)}return Object(s.useEffect)((()=>{console.log(e.test.id);let t=[];for(let e=0;e<a.length;e++)t=w(a[e].rights,a[e].info.correct).concat(w(a[e].wrongs,a[e].info.positions-a[e].info.correct)),t=f(t),c.push({info:a[e].info,question:a[e].question,answers:t}),i.splice(0,0,[]);h(i),y(c)}),[]),Object(s.useEffect)((()=>{b.length>0?document.querySelector("nav.navbar").style.display="flex":document.querySelector("nav.navbar").style.display="none"}),[b]),Object(g.jsxs)(g.Fragment,{children:[b.length>0&&Object(g.jsx)($,{res:b,rate:m,time:r,background:n,testName:e.test.main.name,testId:e.local?"":e.test.id}),v&&b.length<=0&&Object(g.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"10%"},children:Object(g.jsx)(z,{qNumber:v.length,hours:t[0],minutes:t[1],seconds:t[2],onExit:e=>{N(e)},onChange:e=>{!function(e){e>0?l(e-1):(l(e),O(1))}(e)}})}),v&&b.length<=0&&Object(g.jsx)(B,{background:n,gradient:e.test.main.gradient,status:"test",info:v[o].info,vis:p,question:v[o].question,answers:v[o].answers,checkedMarks:u[o],onChange:e=>{!function(e){let t=u;t.splice(o,1,e),console.log(t),h(t)}(e)}})]})};function te(){const[e,t]=Object(s.useState)({}),[n,a]=Object(s.useState)(!1),c=j.firestore();let{id:i}=Object(l.g)();return Object(s.useEffect)((()=>{c.collection("tests").doc(i).get().then((e=>{t({...e.data(),id:i}),a(!0)})).catch((e=>{console.log(e)}))}),[]),Object(g.jsx)(g.Fragment,{children:n&&Object(g.jsx)(ee,{test:e,local:!1})})}n(103);var ne=function(e){const[t,n]=Object(s.useState)(!0),{currentUser:a}=x(),[c,i]=Object(s.useState)("");function l(){n(!t)}return Object(s.useEffect)((()=>{let e="/test-editor/icons/defaultUser.svg";a&&a.photoURL>""?i(a.photoURL):i(e)}),[a]),Object(s.useEffect)((()=>{window.innerWidth<1e3&&(document.querySelector("#navbarNav").style.display=t?"none":"block")}),[t]),Object(s.useEffect)((()=>{window.innerWidth>=1e3?(document.querySelector("#navbarNav").style.display="flex",document.querySelector("#navbarNav").style.justifyContent="center",document.querySelector("#navbarNav").style.width="83%"):document.querySelector("#navbarNav").style.display="none"}),[window.innerWidth]),Object(g.jsxs)("nav",{className:"navbar",children:[window.innerWidth<1e3?Object(g.jsx)(o.b,{to:"/dashboard",children:Object(g.jsx)("img",{className:"member-photo",src:c,alt:"avatar"})}):Object(g.jsxs)(o.b,{to:"/",className:"navHeader",children:[" ",Object(g.jsx)("img",{src:"/test-editor/icons/logoName.svg",style:{width:"5.4vh",height:"8.5vh"},alt:"close"})]}),window.innerWidth<1e3?Object(g.jsx)(o.b,{to:"/",className:"navHeader",children:"Quiz Land"}):null,window.innerWidth<1e3?Object(g.jsx)("span",{id:"navbar-toggler",onClick:l,children:Object(g.jsx)("div",{style:{width:"1em",height:"1em",float:"center"},children:t?Object(g.jsx)("img",{src:"/test-editor/icons/burger.svg",alt:"open"}):Object(g.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close"})})}):null,Object(g.jsxs)("ul",{id:"navbarNav",children:[!a&&Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.b,{to:"/login",className:"nav-link",onClick:e=>l(),children:"Log In"})}),!a&&Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.b,{to:"/signup",className:"nav-link",onClick:e=>l(),children:"Sign Up"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.b,{to:"/",className:"nav-link",onClick:e=>l(),children:"Take tests"})}),a&&Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.b,{to:"/create",className:"nav-link",onClick:e=>l(),children:"Manage tests"})}),Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.b,{to:"/about",className:"nav-link",onClick:e=>l(),children:"About"})}),a&&Object(g.jsx)("li",{className:"nav-item",children:Object(g.jsx)(o.b,{to:"/logout",className:"nav-link",onClick:e=>l(),children:"Logout"})})]}),window.innerWidth<1e3?null:Object(g.jsx)(o.b,{to:"/dashboard",children:Object(g.jsx)("img",{className:"member-photo",src:c,alt:"member avatar"})})]})};n(104);var se=e=>(Object(s.useEffect)((()=>{for(let t=0;t<e.answers.length;t++)document.querySelector("#category_"+t).checked=!1,e.checkedMarks.indexOf(t)>=0&&(document.querySelector("#category_"+t).checked=!0);console.log(e.answers)}),[]),Object(g.jsx)(s.Fragment,{children:Object(g.jsx)("section",{className:"categoriesSection",children:e.answers.map(((t,n)=>Object(g.jsxs)("label",{className:"option_item",style:{width:"47%",maxHeight:"150px",maxWidth:"180px",margin:"5px"},children:[Object(g.jsx)("input",{type:"checkbox",className:"checkOut",id:"category_"+n,value:n,onChange:t=>function(t){if(1===e.type){for(let t=0;t<e.answers.length;t++)document.querySelector("#category_"+t).checked=!1;document.querySelector("#"+t.target.id).checked=!0}let n=[];for(let s=0;s<e.answers.length;s++)!0===document.querySelector("#category_"+s).checked&&n.push(s);e.onChange(n)}(t)},"inputCat"+n),Object(g.jsxs)("div",{className:"option_inner",style:{background:"border-box linear-gradient(rgba(255,255,255,0.25) 30%, rgba(255,255,255,0.75) 50%, rgba(255,255,255,0.25) 70%), url(".concat("/test-editor/icons/QuizLogo.svg",") right top /25% auto  no-repeat")},children:[Object(g.jsx)("div",{className:"tickmark",children:" "},"divCat"+n),Object(g.jsx)("div",{className:"name2",style:{width:"13ch"},children:t.text},"div2Cat"+n)]})]},"labelCat"+n)))})}));function ae(e){return Object(g.jsx)("div",{style:{width:"100vw",height:"100vh",position:"absolute",top:window.pageYOffset,left:0,display:"flex",justifyContent:"center",alignItems:"center"},children:Object(g.jsxs)("div",{className:"alertContainer",children:[Object(g.jsx)("h3",{className:"alertItemStyle",children:Object(g.jsx)("strong",{children:e.test.name})}),Object(g.jsxs)("p",{className:"alertItemStyle",children:[Object(g.jsx)("strong",{children:"Author:"})," ",e.test.author]}),Object(g.jsxs)("p",{className:"alertItemStyle",children:[Object(g.jsx)("strong",{children:"Description:"})," ",e.test.description]}),Object(g.jsxs)("p",{className:"alertItemStyle",children:[Object(g.jsx)("strong",{children:"Question amount:"})," ",e.test.questionsTotal]}),Object(g.jsx)("button",{className:"alertItemStyle",style:{backgroundColor:"#d1ecf1",color:"#0c5460"},onClick:t=>{console.log("click"),e.onRes("")},children:"Close"})]})})}var ce=function(e){const t=j.firestore(),{currentUser:n}=x(),[a,c]=Object(s.useState)([]),[i,l]=Object(s.useState)([]),[r,d]=Object(s.useState)(!1),[u,h]=Object(s.useState)(!1),[b,m]=Object(s.useState)({}),[p,O]=Object(s.useState)(!1),[v,y]=Object(s.useState)(null),[f,w]=Object(s.useState)([]),[N,S]=Object(s.useState)([]),[C,k]=Object(s.useState)([]),[q,I]=Object(s.useState)({}),[P,A]=Object(s.useState)(!1),[E,L]=Object(s.useState)({});return Object(s.useEffect)((()=>{(async()=>{let e=(await t.collection("categories").get()).docs.map((e=>({...e.data()})));e.sort((function(e,t){var n=e.label.toUpperCase(),s=t.label.toUpperCase();return n<s?-1:n>s?1:0})),w(e),e=e.map((e=>({text:e.value,img:""}))),console.log(e),S(e)})(),(async()=>{let n=[];const s=await t.collection("tests").get();n="create"===e.forPage?s.docs.map((e=>({...e.data(),id:e.id}))).filter((t=>t.main.author===e.user||"Yes"===t.main.editability)):s.docs.map((e=>({...e.data(),id:e.id}))).filter((t=>t.main.author===e.user||"Public"===t.main.visibility)),n.sort((function(e,t){var n=e.main.name.toUpperCase(),s=t.main.name.toUpperCase();return n<s?-1:n>s?1:0})),c(n),l(n)})()}),[]),Object(s.useEffect)((()=>{let e=a,t=[];if(console.log(v),v)for(let n=0;n<v.length;n++){let s=[];for(let t=0;t<e.length;t++)e[t].main.categories.findIndex((function(e){return e.value===v[n].value}))>-1&&s.push(e[t]);t=t.concat(s)}t=t.filter(((e,n)=>t.map((e=>e.id)).indexOf(e.id)===n)),l(t)}),[v]),Object(g.jsxs)("div",{style:{width:"100%",maxWidth:"600px",height:"80%",overflow:"auto",margin:"6em 0 2em 0"},children:[u&&Object(g.jsx)(ae,{test:E,onRes:e=>{h(!1),console.log("close")}}),"test"===e.forPage&&n&&Object(g.jsx)("button",{className:"testNav",style:{width:"100%",margin:0},onClick:e=>{window.location.assign("/test-editor/#/create")},children:"Create New test"}),Object(g.jsxs)("p",{className:"testHeaders",children:[" CHOOSE TEST TO ","test"===e.forPage?"TAKE":"MANAGE"]}),N&&Object(g.jsx)(se,{type:N.length,answers:N,checkedMarks:C,onChange:e=>{!function(e){k(e),e.length>0?y(f.filter(((t,n)=>e.indexOf(n)>-1))):y(f)}(e)}}),Object(g.jsx)("p",{className:"testHeaders",children:"DISCOVER TESTS"}),i&&Object(g.jsx)("div",{style:{height:"52%",overflow:"auto",margin:"0"},children:Object(g.jsx)("table",{style:{width:"100%"},children:Object(g.jsx)("tbody",{children:i.map(((t,n)=>Object(g.jsxs)("tr",{children:["create"===e.forPage&&Object(g.jsx)("td",{children:Object(g.jsxs)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",padding:"0% 4%",backgroundColor:"#721c24",margin:"0 9% 0 0",display:"flex",flexDirection:"column",alignItems:"center",width:"100%"},value:t.id,onClick:e=>function(e){let t=e.target.getAttribute("value");O(t);let n=a.map((function(e){return e.id})).indexOf(t),s=a[n];m({variantHead:"danger",heading:"Warning",text:"Do you really want to delete \n ".concat(s.main.name," \n by  \n ").concat(s.main.authorName),color1:"danger",button1:"Delete",color2:"secondary",button2:"Cancel"}),d(!0)}(e),children:["Del ",Object(g.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",value:t.id,style:{width:"max(3.5vw,20px)",height:"max(3.5vw,20px)"}})]},"eraseBtnTests"+n)}),Object(g.jsx)("td",{style:{backgroundColor:"white",borderRadius:"5px"},children:Object(g.jsxs)("div",{className:"testText",value:t.id,onClick:e=>function(e){let t=a.filter((t=>t.id===e.target.getAttribute("value")))[0];L({author:t.main.authorName,description:t.main.description,name:t.main.name,questionsTotal:t.test.length,positionY:e.clientY+5}),h(!0)}(e),style:{cursor:"pointer",whiteSpace:"wrap",textAlign:"center",border:0,width:"100%"},children:[t.main.name," ",Object(g.jsxs)("span",{value:t.id,style:{fontStyle:"oblique",color:"#554FA7"},children:["@",t.main.authorName]})]},"textTests"+n)}),Object(g.jsx)("td",{children:Object(g.jsx)("button",{className:"testNav",style:{padding:"15% 4%",margin:"0",backgroundColor:"white",color:"#554FA7",height:"100%",display:"flex",alignItems:"center"},value:t.id,onClick:t=>function(t){"create"===e.forPage?(m({variantHead:"danger",heading:"Warning",text:"Did you safe your changes? Your current changes will be lost. Proceed?",color1:"danger",button1:"Proceed",color2:"secondary",button2:"Cancel"}),d(!0),I(a.filter((e=>e.id===t.target.getAttribute("value")))[0])):e.onChange(a.filter((e=>e.id===t.target.getAttribute("value")))[0])}(t),children:Object(g.jsx)("img",{src:"create"===e.forPage?"/test-editor/icons/EditIcon.svg":"/test-editor/icons/Play.svg",value:t.id,alt:"create"===e.forPage?"Edit":"Play",style:{width:"max(3.5vw,25px)",height:"max(3.5vw,25px)"}})},"playBtnTests"+n)})]},"divTests"+n)))})})}),"create"===e.forPage&&Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"checkbox",id:"checkEditLocalTest",style:{margin:"5% 2% 0 2%"},onChange:e=>A(document.querySelector("#checkEditLocalTest").checked)}),"Load local test from your disk",P&&Object(g.jsx)("input",{type:"file",id:"fileinput",onChange:t=>function(t){var n=t.target.files[0];if(n){var s=new FileReader;s.onload=function(t){I(JSON.parse(t.target.result)),"create"===e.forPage?(m({variantHead:"danger",heading:"Warning",text:"Did you safe your changes? Your current changes will be lost. Proceed?",color1:"danger",button1:"Proceed",color2:"secondary",button2:"Cancel"}),d(!0)):(e.onChange(JSON.parse(t.target.result)),e.onLocal(!0))},s.readAsText(n)}else alert("Failed to load file")}(t)})]}),r&&Object(g.jsx)(U,{onReturn:n=>{d(!1),"Delete"===n&&t.collection("tests").doc(p).delete().then((t=>{console.log("deleted"),e.reloadNeeded(!0)})).catch((e=>{console.log("can not delete a record")})),"Proceed"===n&&(e.onChange(q),e.onLocal(!1))},styling:b}),"test"===e.forPage&&Object(g.jsxs)("div",{className:"divStyle",children:["Want a demo? ",Object(g.jsx)(o.b,{className:"links",to:"/taketest/RtqxyubO57LToxbaOzpj",children:"Take Demo Test"})]})]})};n(105);var ie=function(){const[e,t]=Object(s.useState)(!1),[n,a]=Object(s.useState)(!1),{currentUser:c}=x();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"testContainer",children:[!e&&Object(g.jsx)(ce,{user:c?c.uid:"",forPage:"test",onLocal:e=>a(e),onChange:e=>function(e){console.log(e),t(e)}(e)}),e&&Object(g.jsx)(ee,{test:e,local:n}),!e&&Object(g.jsx)(O,{})]})})};var oe=function(e){const[t,n]=Object(s.useState)(e.answer.text),[a,c]=Object(s.useState)(e.answer.img),[i,o]=Object(s.useState)();function l(t,n){let s={text:t,img:n,num:e.num};e.onChange(s)}return Object(s.useEffect)((()=>{n(e.answer.text),e.answer.img.length>0?(o(!0),document.querySelector("#check_"+e.num+e.cor).checked=!0,c(e.answer.img)):(document.querySelector("#check_"+e.num+e.cor).checked=!1,o(!1))}),[e.answer]),Object(g.jsxs)("div",{children:[Object(g.jsx)("textarea",{style:{width:"100%",borderRadius:".25rem",borderColor:"lightgray"},value:t,onChange:e=>function(e){n(e.target.value),l(e.target.value,a)}(e)}),Object(g.jsxs)("label",{style:{color:"black",width:"100%"},children:[Object(g.jsx)("input",{type:"checkbox",id:"check_"+e.num+e.cor,onChange:t=>o(document.querySelector("#check_"+e.num+e.cor).checked)}),"check to add image link"]}),i&&Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"text",style:{width:"100%",opacity:i,borderRadius:".25rem",borderColor:"lightgray"},value:a,onChange:e=>function(e){c(e.target.value),l(t,e.target.value)}(e)}),Object(g.jsx)(E,{style:{width:"200px",objectFit:"cover",margin:"10px"},getImgUrl:e=>{document.querySelector("#mainImg").value=e,c(e),l(t,e)}}),Object(g.jsx)("img",{src:a,style:{width:"19%"},alt:"thumbnail"})]})]})};var le=function(e){const[t,n]=Object(s.useState)([]);return Object(s.useEffect)((()=>{n(e.answers)}),[e.answers]),Object(g.jsx)("div",{style:{display:"flex",alignItems:"start",justifyContent:"start",marginBottom:"4vh"},children:Object(g.jsx)("div",{style:{width:"85%"},children:Object(g.jsxs)("div",{children:[t&&t.map(((t,n)=>Object(g.jsxs)("div",{style:{position:"relative",margin:"5px"},children:[Object(g.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",float:"right",margin:0},value:n,onClick:t=>function(t){e.onDelete(t.target.value)}(t),children:Object(g.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(1.2vw,12px)",height:"max(1.2vw,12px)"}})},e.correct?"right_eraseBtn_":"wrong_eraseBtn_"+n),Object(g.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",float:"right",margin:0},value:n,onClick:t=>function(t){e.onCopy(t.target.value)}(t),children:"\ud83d\udcd1Copy"},e.correct?"right_copyBtn_":"wrong_copyBtn_"+n),Object(g.jsx)(oe,{cor:e.correct?"right":"wrong",num:n,answer:t,onDelete:e=>e.target.value,onNew:e=>e.target.value,onChange:t=>function(t){let n=e.answers;if(""===t.text&&""===t.img)n.splice(t.num,1);else{let s={text:t.text,img:t.img,choice:e.correct};n.splice(t.num,1,s)}e.onChange(n)}(t)},e.correct?"right_text"+n:"wrong_text"+n)]},e.correct?"right"+n:"wrong"+n))),Object(g.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:0},onClick:t=>{!function(){let t=JSON.parse(localStorage.getItem("answerCopy"));null!==t&&(t.choice=e.correct,e.onNew(t))}()},children:"\ud83d\udccbPaste"}),Object(g.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:0},onClick:t=>{!function(){let t={text:"",img:"",choice:e.correct};e.onNew(t)}()},children:"New \u2795"})]})})})};var re=function(e){var t={};const[n,a]=Object(s.useState)([]),[c,i]=Object(s.useState)([]);function o(n,s){s?t.rights=n:t.wrongs=n,e.onChange(t)}function l(n,s){t=s?e.q.rights[n]:e.q.wrongs[n],localStorage.setItem("answerCopy",JSON.stringify(t))}function r(n,s){s?(t=e.q.rights).push({text:n.text,img:n.img,choice:!0}):(t=e.q.wrongs).push({text:n.text,img:n.img,choice:!1}),e.onChange(t)}function d(n,s){s?(t=e.q.rights).splice(n,1):(t=e.q.wrongs).splice(n,1),e.onChange(t)}return Object(s.useEffect)((()=>{document.querySelector("#question").value=e.q.question,document.querySelector("#mainImg").value=e.q.info.img,document.querySelector("#positionsCount").value=e.q.info.positions,document.querySelector("#correctCount").value=e.q.info.correct,document.querySelector("#layout1").value=e.q.info.layout,a(e.q.rights),i(e.q.wrongs)}),[e.q]),Object(g.jsxs)(s.Fragment,{children:[Object(g.jsxs)("label",{className:"headerStyle",children:["Enter your question",Object(g.jsx)("textarea",{id:"question",onChange:t=>{e.onChange({question:t.target.value})}})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{className:"headerStyle",children:["Add your question main picture link (if you have one)",Object(g.jsx)("input",{id:"mainImg",onChange:t=>{e.onChange({mainImg:t.target.value})}})]}),Object(g.jsx)(E,{getImgUrl:t=>{document.querySelector("#mainImg").value=t,e.onChange({mainImg:t})}}),Object(g.jsxs)("label",{className:"headerStyle",children:["Choose question layout",Object(g.jsx)("select",{id:"layout1",onChange:t=>{e.onChange({layout1:t.target.value})},children:["simple","box"].map(((e,t)=>Object(g.jsx)("option",{value:e,children:e},"layout_option"+t)))})]}),Object(g.jsxs)("div",{className:"containerGrid",children:[Object(g.jsx)("section",{className:"panel1",children:Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{id:"positionsCount",type:"number",min:0,max:n.length+c.length,onChange:t=>{e.onChange({positionsCount:t.target.value})}}),"How many positions would be displayed?(Maximum should be less then answers options)"]})}),Object(g.jsx)("section",{className:"panel2",children:Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{id:"correctCount",type:"number",min:0,max:n.length,onChange:t=>{e.onChange({correctCount:t.target.value})}}),"How many correct options should be selected?(Maximum should be less then correct answers options)"]})})]}),Object(g.jsxs)("div",{className:"containerGrid",children:[Object(g.jsxs)("section",{className:"panel2",children:[Object(g.jsx)("label",{className:"headerStyle",style:{color:"green"},children:Object(g.jsx)("strong",{children:"Enter text of the correct answers:"})}),n&&Object(g.jsx)(le,{answers:n,correct:!0,onDelete:e=>d(e,1),onNew:e=>r(e,1),onChange:e=>o(e,1),onCopy:e=>l(e,1)})]}),Object(g.jsxs)("section",{className:"panel1",children:[Object(g.jsx)("label",{className:"headerStyle",style:{color:"red"},children:Object(g.jsx)("strong",{children:"Enter text of the wrong answers:"})}),c&&Object(g.jsx)(le,{answers:c,correct:!1,onDelete:e=>d(e,0),onNew:e=>r(e,0),onChange:e=>o(e,0),onCopy:e=>l(e,0)})]})]})]})};n(106);var de=function(e){const[t,n]=Object(s.useState)(""),[a,c]=Object(s.useState)(!1);function i(t){let n=document.querySelector("#questionPage");if(Number.isInteger(t))1===t&&(""===n.value?n.value=1:parseInt(n.value)<e.qNumber?n.value=parseInt(n.value)+1:n.value=1),-1===t&&(""===n.value?n.value=e.qNumber:parseInt(n.value)>1?n.value-=1:n.value=e.qNumber);else if("0"===t){document.querySelectorAll(".testNav").forEach((function(e){e.classList.remove("invisible")})),document.querySelector("#startNav").classList.add("invisible"),n.value=1}else n.value=t;"0"===t?e.onChange(0):e.onChange(parseInt(n.value))}return Object(s.useEffect)((()=>{document.getElementById("questionPage").value=1}),[]),Object(s.useEffect)((()=>{let t=[];for(let n=0;n<e.qNumber;n++)t.push(n+1);n(t)}),[e.qNumber]),Object(g.jsxs)("div",{className:"navContainer",style:{marginTop:"2%"},children:[Object(g.jsx)("h3",{style:{width:"100%",textAlign:"center",fontSize:"4vw",color:"#FFFFFF"},children:Object(g.jsx)("strong",{children:"Question editing panel"})}),Object(g.jsx)("button",{className:"testNav",onClick:e=>{i("1")},children:"\u23ee"}),Object(g.jsx)("button",{className:"testNav",onClick:e=>{i(-1)},children:"\u23eaBack"}),Object(g.jsx)("input",{className:"testNavLight text-center",style:{width:"3ch"},type:"number",id:"questionPage",min:"1",max:e.qNumber.toString(),onClick:e=>i(e.target.value)}),Object(g.jsx)("button",{className:"testNav",onClick:e=>{i(1)},children:"\u23e9Next"}),Object(g.jsx)("button",{className:"testNav",onClick:t=>{i(e.qNumber.toString())},children:"\u23ed"}),Object(g.jsx)("button",{className:"testNav",onClick:t=>{e.onNew(""),document.querySelector("#questionPage").value=(e.qNumber+1).toString()},children:"\u2795Add"}),Object(g.jsxs)("button",{className:"testNav",onClick:t=>{!function(){e.onDel("");let t=document.querySelector("#questionPage"),n="";parseInt(t.value)!==e.qNumber?(n=t.value,t.value=n):(n=t.value,t.value=(parseInt(n)-1).toString())}()},children:[Object(g.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(1.2vw,12px)",height:"max(1.2vw,12px)"}}),"Delete"]}),Object(g.jsx)("button",{className:"testNav",onClick:t=>{t.preventDefault(),e.onCopy("")},children:"\ud83d\udcd1Copy"}),Object(g.jsx)("button",{className:"testNav",onClick:t=>{t.preventDefault(),e.onPaste(""),document.querySelector("#questionPage").value=(parseInt(document.querySelector("#questionPage").value)+1).toString()},children:"\ud83d\udccbPaste"}),Object(g.jsx)("button",{className:"testNav",onClick:t=>{e.onShow("")},children:"\ud83d\udcf0Preview"}),e.qNumber>1&&Object(g.jsx)("button",{className:"testNav",onClick:e=>{a?document.querySelector("#moveSelect").classList.remove("invisible"):document.querySelector("#moveSelect").classList.add("invisible"),c(!a)},children:"\ud83d\udcf2Move to"}),e.qNumber>1&&t&&Object(g.jsx)("select",{id:"moveSelect",className:"testNavLight text-center invisible",onChange:t=>{e.onMove([parseInt(document.querySelector("#questionPage").value)-1,parseInt(t.target.value)]),document.querySelector("#questionPage").value=(parseInt(t.target.value)+1).toString()},children:t.map(((e,n)=>Object(g.jsx)("option",{value:n,children:t[n]},n)))})]})};n(107);var ue=function(e){const t=j.firestore(),[n,a]=Object(s.useState)(!1),[c,i]=Object(s.useState)({}),[o,l]=Object(s.useState)(!1),[r,d]=Object(s.useState)([]),[u,h]=Object(s.useState)(""),[b,m]=Object(s.useState)(""),[x,p]=Object(s.useState)(!1);return Object(s.useEffect)((()=>{(async()=>{let e=(await t.collection("gradients").get()).docs.map((e=>({...e.data(),id:e.id})));d(e)})()}),[]),Object(g.jsxs)("div",{style:{width:"100%",paddingLeft:"10px"},children:[" Pre-set gradients: for more visit ",Object(g.jsx)("a",{className:"btn",href:"https://www.gradientmagic.com/",target:"_blank",rel:"noopener noreferrer",children:"Gradient Magic"}),n&&Object(g.jsx)(U,{onReturn:e=>{a(!1),"Delete"===e&&t.collection("gradients").doc(o).delete().then((e=>{console.log("deleted"),d(r.filter((e=>e.id!==o)))})).catch((e=>{console.log("can not delete a record")}))},styling:c}),r&&r.map(((t,n)=>Object(g.jsxs)("div",{style:{display:"flex",margin:"5px"},children:[Object(g.jsxs)("div",{style:{cursor:"pointer",width:"50%",height:"50px",borderRadius:"10px",textShadow:"4px 4px 16px white",backgroundImage:t.value,backgroundSize:"cover"},value:t.id,onClick:t=>function(t){let n=r.filter((e=>e.id===t.target.getAttribute("value")));e.onChange(n[0].value)}(t),children:[t.name," "]},"gradient_name"+n),Object(g.jsxs)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:0,whiteSpace:"nowrap"},value:t.id,onClick:e=>function(e){let t=e.target.getAttribute("value");l(t);let n=r.map((function(e){return e.id})).indexOf(t);i({left:"0",top:"0",variantHead:"danger",heading:"Warning",text:"Do you really want to delete ".concat(r[n].name,"?"),color1:"danger",button1:"Delete",color2:"secondary",button2:"Cancel"}),a(!0)}(e),children:["Del",Object(g.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(.9vw,10px)",height:"max(.9vw,10px)"}})]},"gradient_del_button"+n)]},"gradient_"+n))),Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"checkbox",id:"checkNewGradientAdd",onChange:e=>p(document.querySelector("#checkNewGradientAdd").checked)}),"Add new background gradient CSS to our database of pre-set styles"]}),Object(g.jsxs)("div",{style:{display:x?"block":"none",width:"100%"},children:[Object(g.jsx)("label",{className:"headerStyle",children:"Enter gradient CSS"}),Object(g.jsx)("textarea",{id:"newBackgroundGradient",style:{width:"100%"},onChange:e=>h(e.target.value)}),Object(g.jsx)("label",{className:"headerStyle",children:"Enter gradient name"}),Object(g.jsx)("input",{id:"newBackgroundGradient",style:{width:"100%"},onChange:e=>m(e.target.value)}),Object(g.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:0,whiteSpace:"nowrap"},onClick:n=>{t.collection("gradients").add({name:b,value:u}).then((t=>{console.log("added"),e.reloadNeeded(!0)})).catch((e=>{console.log("can not delete a record")}))},children:"Add \ud83d\uddf8"})]})]})},he=n(56);const be={menu:(e,t)=>({...e,width:t.selectProps.width,borderBottom:"1px dotted pink",color:t.selectProps.menuColor,padding:20}),option:(e,t)=>({...e,borderBottom:"1px dotted pink",color:t.isSelected?"red":"blue",padding:20}),control:e=>({...e,backgroundColor:"white"}),singleValue:(e,t)=>({...e,opacity:t.isDisabled?.5:1,transition:"opacity 300ms"})};var je=function(e){let{style:t,label:n,options:s,onChange:a,value:c,isMulti:i}=e;return Object(g.jsxs)("div",{style:t,children:[n,Object(g.jsx)(he.a,{styles:be,isMulti:i,closeMenuOnSelect:!0,isSearchable:!0,options:s,onChange:a,value:c})]})},ge=[],me={question:"",rights:[{text:"",img:"",choice:!0}],wrongs:[{text:"",img:"",choice:!1}],info:{positions:2,correct:1,layout:"",img:""}};var xe=function(){var e=[];const{currentUser:t}=x(),[n,a]=Object(s.useState)(""),[c,i]=Object(s.useState)(""),[l,r]=Object(s.useState)({authorId:"",name:"",testId:""}),[d,u]=Object(s.useState)(""),[h,b]=Object(s.useState)(""),[m,p]=Object(s.useState)(0),[O,v]=Object(s.useState)(""),[y,f]=Object(s.useState)(""),[w,N]=Object(s.useState)(0),[S,C]=Object(s.useState)(0),[k,q]=Object(s.useState)(0),[I,P]=Object(s.useState)(!1),[A,L]=Object(s.useState)(!1),[T,z]=Object(s.useState)({}),[F,R]=Object(s.useState)([me]),[D,W]=Object(s.useState)([]),[_,H]=Object(s.useState)([]),[M,Q]=Object(s.useState)(!1),[G,Y]=Object(s.useState)(!1),J=j.firestore(),V=e=>{window.location.reload()};function X(){!function(){var e=window.scrollX,t=window.scrollY;window.onscroll=function(){window.scrollTo(e,t)}}();let e=F[m].rights.slice(0,F[m].info.correct);ge=F[m].wrongs.slice(0,F[m].info.positions-F[m].info.correct);for(let t=0;t<e.length;t++)ge.push(e[t]);console.log(ge),P(!I)}function K(t){console.log(t);let n=t;R(n.test),p(0),document.querySelector("#questionPage").value=1,r({authorId:n.main.author,name:n.main.authorName,testId:n.id}),e=n.main.categories,W(e),document.querySelector("#testName").value=n.main.name,a(n.main.name),document.querySelector("#testDescription").value=n.main.description,i(n.main.description),document.querySelector("#visibility").value=n.main.visibility,u(n.main.visibility),document.querySelector("#editability").value=n.main.editability,b(n.main.editability),document.querySelector("#background").value=n.main.background,v(n.main.background),document.querySelector("#backgroundGradient").value=n.main.gradient,f(n.main.gradient),document.querySelector("#hh").value=n.main.hours,N(n.main.hours),document.querySelector("#mm").value=n.main.minutes,C(n.main.minutes),document.querySelector("#ss").value=n.main.seconds,q(n.main.seconds)}return Object(s.useEffect)((()=>{(async()=>{let e=(await J.collection("categories").get()).docs.map((e=>({...e.data()})));e.sort((function(e,t){var n=e.label.toUpperCase(),s=t.label.toUpperCase();return n<s?-1:n>s?1:0})),H(e)})();let e=JSON.parse(localStorage.getItem("testCopy"));null!==e&&K(e),localStorage.removeItem("testCopy")}),[]),Object(g.jsxs)("div",{className:"makerContainer",children:[Object(g.jsx)("div",{style:{display:"flex",alignItems:"start",justifyContent:"center"},children:Object(g.jsx)(ce,{user:t.uid,forPage:"create",reloadNeeded:V,onLocal:e=>{console.log("test loaded")},onChange:e=>K(e)})}),A&&Object(g.jsx)(U,{onReturn:(e,t)=>{if("Proceed"===e&&(L(!1),V()),"Update"===e){L(!1);let e={main:{author:l.authorId,authorName:l.name,categories:D,name:n,description:c,visibility:d,editability:h,background:O,gradient:y,hours:w,minutes:S,seconds:k},test:F};localStorage.setItem("testCopy",JSON.stringify(e)),J.collection("tests").doc(l.testId).set(e).then((e=>{console.log("file updated"),V()})).catch((e=>{console.log("file fail to updated")}))}if("Add"===e)if(console.log(t),-1===_.map((function(e){return e.value})).indexOf(t)&&t.length>5){let e={label:t,value:t};J.collection("categories").add(e).then((t=>{console.log("categories updated"),H([..._,e])})).catch((e=>{console.log("categories fail to updated")})),L(!1)}else z({left:"0",top:"0",variantHead:"danger",heading:t.length>5?"Already Exist":"Enter more symbols",text:"Please enter new unique Category name more then 5 symbols long and click Add",inputField:"true",inputValue:t,color1:"danger",button1:"Add",color2:"secondary",button2:"Cancel"});"Cancel"===e&&L(!1)},styling:T}),Object(g.jsxs)("div",{className:"navContainer",children:[Object(g.jsx)("h3",{style:{width:"100%",textAlign:"center",fontSize:"4vw",color:"#FFFFFF"},children:Object(g.jsx)("strong",{children:"Test editing panel"})}),Object(g.jsx)("button",{className:"testNav",onClick:e=>{n>""&&(L(!0),z({variantHead:"info",heading:"Warning",text:"Did you safe your changes? Your present changes to the test ".concat(n," by ").concat(l.name>""?l.name:"You"," will be lost. Proceed?"),color1:"danger",button1:"Proceed",color2:"secondary",button2:"Cancel"}))},children:"New \u2795"}),Object(g.jsx)("button",{className:"testNav",onClick:e=>function(e){let s=JSON.stringify({main:{author:t.uid,authorName:t.displayName,categories:D,name:n,description:c,visibility:d,editability:h,background:O,gradient:y,hours:w,minutes:S,seconds:k},test:F});console.log(s);var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(s)),a.setAttribute("download","test.txt"),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}(),children:"Download \ud83d\udcbb"}),Object(g.jsx)("button",{className:"testNav",onClick:e=>function(e){let s={main:{author:t.uid,authorName:t.displayName,categories:D,name:n,description:c,visibility:d,editability:h,background:O,gradient:y,hours:w,minutes:S,seconds:k},test:F};J.collection("tests").add(s).then((e=>{console.log("file created in DB"),V()})).catch((e=>{console.log("no connectionto DB")}))}(),children:"Upload to web \ud83d\udce4"}),l.testId>""&&Object(g.jsx)("button",{className:"testNav",onClick:e=>(L(!0),void z({variantHead:"warning",heading:"Warning",text:"You about to overwrite data in the test ".concat(n," by ").concat(l.name>""?l.name:"You",". Update?"),color1:"danger",button1:"Update",color2:"secondary",button2:"Cancel"})),children:"Update on web \ud83d\udd01"})]}),Object(g.jsxs)("label",{className:"headerStyle",children:["Enter test Name (keep it under 30 symbols)",Object(g.jsx)("input",{id:"testName",onChange:e=>a(e.target.value)})]}),Object(g.jsx)("br",{}),Object(g.jsxs)("label",{className:"headerStyle",children:["Enter test description",Object(g.jsx)("textarea",{id:"testDescription",onChange:e=>i(e.target.value)})]}),Object(g.jsxs)("div",{className:"containerGrid",children:[Object(g.jsx)("section",{className:"panel1",children:Object(g.jsxs)("label",{children:[Object(g.jsxs)("select",{id:"visibility",onChange:e=>u(e.target.value),children:[Object(g.jsx)("option",{value:"Private",children:"Private"}),Object(g.jsx)("option",{value:"Public",children:"Public"})]}),"Is this test Private or Public?"]})}),Object(g.jsx)("section",{className:"panel2",children:Object(g.jsxs)("label",{children:[Object(g.jsxs)("select",{id:"editability",onChange:e=>b(e.target.value),children:[Object(g.jsx)("option",{value:"Yes",children:"Yes"}),Object(g.jsx)("option",{value:"No",children:"No"})]}),"Would you allow others to edit content of test?"]})})]}),D&&Object(g.jsx)(je,{isMulti:!0,style:{width:"300px",menuColor:"red",marginLeft:"1.5%"},value:D,onChange:W,options:_,label:"Choose a test categories"}),Object(g.jsx)("button",{className:"testNav",style:{fontSize:"max(1.2vw,12px)",margin:"1% 0 0 1.5%"},onClick:e=>(L(!0),void z({variantHead:"warning",heading:"Alert",text:"Please enter new unique Category name more then 5 symbols long and click Add",inputField:"true",inputValue:"",color1:"danger",button1:"Add",color2:"secondary",button2:"Cancel"})),children:"Add New Category"}),Object(g.jsxs)("div",{className:"panel2 containerGrid",children:[Object(g.jsx)("section",{className:"headerStyle",children:"Enter time (if there are no time limit enter 0 0 0):"}),Object(g.jsxs)("section",{className:"panel1 headerStyle",style:{float:"left"},children:[Object(g.jsx)("input",{id:"hh",type:"number",min:0,max:10,size:2,style:{width:"5ch"},onChange:e=>N(e.target.value)})," hh",Object(g.jsx)("input",{id:"mm",type:"number",min:0,max:59,size:2,style:{width:"5ch"},onChange:e=>C(e.target.value)})," mm",Object(g.jsx)("input",{id:"ss",type:"number",min:0,max:59,size:2,style:{width:"5ch"},onChange:e=>q(e.target.value)})," ss"]})]}),Object(g.jsxs)("div",{className:"containerGrid",children:[Object(g.jsxs)("section",{className:"panel1",children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"checkbox",id:"checkAddTestBackground",onChange:e=>Y(document.querySelector("#checkAddTestBackground").checked)}),"Add/change BACKGROUND to your test"]}),Object(g.jsxs)("div",{style:{display:G?"block":"none",width:"98%"},children:[Object(g.jsxs)("label",{className:"headerStyle",children:["Enter test background image link or upload your image from computer",Object(g.jsx)("input",{id:"background",onChange:e=>v(e.target.value)})]}),Object(g.jsx)(E,{getImgUrl:e=>{document.querySelector("#background").value=e,v(e)}})]})]}),Object(g.jsxs)("section",{className:"panel2",children:[Object(g.jsxs)("label",{children:[Object(g.jsx)("input",{type:"checkbox",id:"checkAddTestGradient",onChange:e=>Q(document.querySelector("#checkAddTestGradient").checked)}),"Add/change background GRADIENT to your test"]}),Object(g.jsxs)("div",{style:{display:M?"block":"none",width:"98%"},children:[Object(g.jsxs)("label",{className:"headerStyle",children:["Enter test background gradient CSS here",Object(g.jsx)("textarea",{id:"backgroundGradient",onChange:e=>f(e.target.value)})]}),Object(g.jsx)(ue,{reloadNeeded:e=>{if(e){let e={main:{author:t.uid,authorName:t.displayName,categories:D,name:n,description:c,visibility:d,editability:h,background:O,gradient:y,hours:w,minutes:S,seconds:k},test:F};localStorage.setItem("testCopy",JSON.stringify(e)),V()}},onChange:e=>(e=>{document.querySelector("#backgroundGradient").value=e,f(e)})(e)})]})]})]}),Object(g.jsx)(de,{qNumber:F.length?F.length:0,onNew:e=>(R((e=>[...e,{question:"",rights:[{text:"",img:"",choice:!0}],wrongs:[{text:"",img:"",choice:!1}],info:{positions:2,correct:1,layout:"",img:""}}])),p(F.length),void console.log(m)),onDel:e=>(m===F.length-1&&p(m-1),void R(F.filter((e=>F.indexOf(e)!==m)))),onMove:e=>function(e){if(e[0]!==e[1]){let t=[],n=F[e[0]];for(let s=0;s<F.length;s++)s===e[1]?e[1]>e[0]?(t.push(F[s]),t.push(n)):(t.push(n),t.push(F[s])):s!==e[0]&&t.push(F[s]);R(t),p(e[1]),console.log(n,t)}}(e),onShow:e=>X(),onChange:e=>{!function(e){p(e>0?e-1:e)}(e)},onCopy:e=>{localStorage.setItem("questionCopy",JSON.stringify(F[m]))},onPaste:e=>{!function(e){let t=[],n=JSON.parse(localStorage.getItem("questionCopy"));if(null!==n){for(let e=0;e<F.length;e++)e===m+1&&t.push(n),t.push(F[e]);m===F.length-1&&t.push(n),R(t),p(m+1)}}()}}),I&&Object(g.jsxs)("div",{className:"modalContainer",style:{top:window.pageYOffset},children:[Object(g.jsx)("div",{className:"closeTag",style:{position:"absolute",top:"2%",right:"2%"},onClick:e=>{P(!1),window.onscroll=function(){}},children:Object(g.jsx)("img",{src:"/test-editor/icons/close.svg",alt:"close",style:{width:"max(1.2vw,12px)",height:"max(1.2vw,12px)"}})}),Object(g.jsx)(B,{style:{pointerEvents:"none"},background:O,gradient:y,status:"create",info:{positions:F[m].info.positions,correct:F[m].info.correct,layout:F[m].info.layout,img:F[m].info.img},vis:1,question:F[m].question,answers:ge,checkedMarks:[],onChange:e=>{}})]}),F[m]&&Object(g.jsx)(re,{q:F[m],onChange:e=>function(e){let t=[...F];"question"===Object.getOwnPropertyNames(e)[0]&&(t[m].question=e.question),"mainImg"===Object.getOwnPropertyNames(e)[0]&&(t[m].info.img=e.mainImg),"layout1"===Object.getOwnPropertyNames(e)[0]&&(t[m].info.layout=e.layout1),"positionsCount"===Object.getOwnPropertyNames(e)[0]&&(t[m].info.positions=e.positionsCount),"correctCount"===Object.getOwnPropertyNames(e)[0]&&(t[m].info.correct=e.correctCount),"rights"===Object.getOwnPropertyNames(e)[0]&&(t[m].rights=e.rights),"wrongs"===Object.getOwnPropertyNames(e)[0]&&(t[m].wrongs=e.wrongs),R(t)}(e)}),Object(g.jsxs)("div",{style:{width:"100%",marginLeft:"10px",pointerEvents:"cursor"},children:["\xa9 2021 ",Object(g.jsx)(o.b,{to:"/about",children:"Sergey Bolotnikov"})," "]})]})};var pe=function(){return Object(g.jsx)(o.a,{children:Object(g.jsxs)(p,{children:[Object(g.jsx)(ne,{}),Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{exact:!0,path:"/",component:ie}),Object(g.jsx)(l.b,{exact:!0,path:"/redirect",component:k}),Object(g.jsx)(q,{path:"/update-profile",component:L}),Object(g.jsx)(l.b,{path:"/signup",component:v}),Object(g.jsx)(l.b,{path:"/login",component:f}),Object(g.jsx)(l.b,{path:"/about",component:S}),Object(g.jsx)(l.b,{path:"/logout",component:C}),Object(g.jsx)(l.b,{path:"/forgot-password",component:I}),Object(g.jsx)(q,{exact:!0,path:"/create",component:xe}),Object(g.jsx)(q,{exact:!0,path:"/dashboard",component:y}),Object(g.jsx)(l.b,{path:"/taketest/:id",children:Object(g.jsx)(te,{})})]})]})})};var Oe=e=>{e&&e instanceof Function&&n.e(17).then(n.bind(null,145)).then((t=>{let{getCLS:n,getFID:s,getFCP:a,getLCP:c,getTTFB:i}=t;n(e),s(e),a(e),c(e),i(e)}))};i.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(pe,{})}),document.getElementById("root")),Oe(console.log)},23:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){}},[[119,15,16]]]);
//# sourceMappingURL=main.3c16665b.chunk.js.map